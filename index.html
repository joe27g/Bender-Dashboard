<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <title>Bender Dashboard</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#FF0000">
    <meta name="keywords" content="Discord, Bot, Bender, Dashboard, Best, Discord Bot, benderbot">
    <meta name="og:title" content="Bender Dashboard">
    <meta name="og:description" content="Bender's web dashboard, for easy access to Bender's settings.">
    <meta name="description" content="Bender's web dashboard, for easy access to Bender's settings.">
    <meta name="og:image" content="https://benderbot.co/bender.png">
    <meta name="og:site_name" content="Bender Bot">
    <meta name="og:url" content="https://dashboard.benderbot.co">
    <link rel="stylesheet" media="screen" href="./style.css?v=113">
    <link rel="stylesheet" media="screen" href="./bulmaswatch.min.css">
    <script src="./vue.min.js"></script>
    <script src="./moment.min.js"></script>
    <script src="./moment-timezone-with-data.min.js"></script>
    <script src="./simple-markdown.min.js"></script>
    <link rel="stylesheet" media="screen" href="./monokai-sublime.min.css">
    <script src="./highlight.pack.min.js"></script>
    <script src="https://www.paypalobjects.com/js/external/connect/api.js"></script>
    <script defer src="./regex-colorizer.js"></script>
    <script defer src="./constants.js?v=11"></script>
    <script defer src="./commandList.js"></script>
    <script defer src="./dropdowns.js"></script>
    <script defer src="./dashboard.js?v=79"></script>
</head>
<body><div id="app">
<transition name="fade">
    <div id="backdrop" v-show="sidenavOpen" @click="sidenavOpen = false"></div>
</transition>
<transition name="fade-slide">
    <div class="menu" id="sidenav" v-show="sidenavOpen">
        <div id="mobile-header">
            <a class="b bold" href="/"><img src="./Bender.png" class="b">Bender Dashboard</a>
        </div>
        <p class="menu-label">Overview</p>
        <ul class="menu-list">
            <li v-for="item in navSections[0]">
                <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
        <p class="menu-label">Moderation</p>
        <ul class="menu-list">
            <li v-for="item in navSections[1]">
                <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
            <li><ul class="menu-list">
                <li v-for="item in navSections[2]">
                    <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
                </li>
            </ul></li>
            <li v-for="item in navSections[3]">
                <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
        <p class="menu-label">Configuration</p>
        <ul class="menu-list">
            <li v-for="item in navSections[4]">
                <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
            <li><ul>
                <li v-for="item in navSections[5]">
                    <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
                </li>
            </ul></li>
            <li v-for="item in navSections[6]">
                <a @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
    </div>
</transition>
<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a role="button" @click="sidenavOpen = !sidenavOpen" :class="sidenavOpen ? 'is-active navbar-burger burger' : 'navbar-burger burger'" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <a class="navbar-item" href="/">
            <img class="round" src="./bender.png" height="32">
            <span class="title is-5" id="bender-label">&nbsp;Dashboard</span>
        </a>
        <div class="navbar-spacer"></div>
    </div>
    <div class="navbar-menu">
        <div id="guild-picker" class="navbar-item is-expanded has-text-centered" v-show="user">
            <div id="guilds" class="dd">
                <div id="guilds-button" class="dd-trigger">
                    <div id="guilds-chooser" class="button" @click="openDropdown = openDropdown === 'guild' ? null : 'guild'">
                        <div v-if="selectedGuildID">
                            <img v-if="getGuild(selectedGuildID).iconSrc" class="guild-icon" :src="getGuild(selectedGuildID).iconSrc">
                            <span class="guild-name">{{ getGuild(selectedGuildID).name }}</span>
                        </div>
                        <div v-else>
                            <img class="guild-icon" src="https://discordapp.com/assets/1c8a54f25d101bdc607cec7228247a9a.svg">
                            <span>Choose a server...</span>
                        </div>
                    </div>
                </div>
                <div id="guilds-dropdown" class="dd-content" v-show="openDropdown === 'guild'">
                    <label v-for="guild in guilds" v-show="selectedGuildID !== guild.id" :for="'G-' + guild.id" :class="column === 'pro' || guild.permissions & 8 ? '' : 'no-perms disabled'">
                        <input type="radio" :id="'G-' + guild.id" :value="guild.id" v-model="selectedGuildID" class="hidden">
                        <img v-if="guild.iconSrc" class="guild-icon" :src="guild.iconSrc">
                        <span class="guild-name">{{ guild.name }}</span>
                    </label>
                    <div v-if="guilds.length === 0">
                        <span class="gray">No servers with Administrator permission.</span>
                    </div>
                </div>
            </div>
            <img id="refresh" :class="loading ? 'working' : ''" title="Refresh settings" src="./refresh.png" @click="reloadGSettings(column === 'pro' ? 'PAYPAL' : selectedGuildID)">
            <img id="save" title="Save settings" src="./floppy_disk.png" @click="saveGSettings(column === 'pro' ? 'PAYPAL' : selectedGuildID)">
        </div>
    </div>
    <div id="integration" class="navbar-end">
        <img class="pfp" v-if="user && user.pfp" :src="user.pfp">
        <span class="user-area" v-if="user">
            <span class="user-tag"><span>{{ user.username }}</span><span class="gray">#{{ user.discriminator }}</span></span>
            <a id="logout" href="https://api.benderbot.co/logout">Logout</a>
        </span>
        <a v-else class="button is-primary" href="https://api.benderbot.co/login_redirect">Login with Discord</a>
    </div>
</nav>
<section id="settings-wrapper"><div id="content-placeholder" v-show="!loading && !botNotPresent && ((!selectedGuildID && column !== 'pro') || !column)">
    <span>Nothing to see here...</span> <span class="gray">Choose a server to start changing settings.</span>
</div><div id="bot-not-present" v-show="botNotPresent">
    <span>Bender isn't in this server!</span> <span class="gray">To invite it, use this link:</span> <a :href="'https://benderbot.co/invite?guild_id=' + selectedGuildID" target="_blank">https://benderbot.co/invite</a>
</div><div id="loading" v-show="loading">
    <img src="https://cdn.discordapp.com/emojis/461731014646169601.gif?v=1"><br><span>Loading...</span>
</div><div id="pro" v-show="column === 'pro' && !loading">
    <div class="header">
        <span class="bold">Bender Pro Settings <img id="pp_logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/2000px-PayPal.svg.png"></span>
        <hr>
    </div>
    <div id="paypalIntegration" v-if="paypalInfo">
        <img v-if="paypalInfo.picture" :src="paypalInfo.picture">
        <span class="username" v-if="paypalInfo.name">Logged in as: {{ paypalInfo.name }}</span>
        <span class="gray" v-if="paypalInfo.email">{{ paypalInfo.email }}</span>
        <span class="gray" v-if="!paypalInfo.id"><i>Not logged into PayPal.</i></span>
        <br><br>
        <div v-if="paypalInfo.plan">
            <span>Plan: {{ paypalInfo.plan.description }}</span> | <span class="gray">${{ paypalInfo.plan.amount }} {{ paypalInfo.plan.currency }} per {{ paypalInfo.plan.freq }}</span> | <span>State: {{ paypalInfo.plan.valid_until >= Date.now() ? 'Active' : 'Expired' }}</span> <span v-if="paypalInfo.plan.valid_until >= Date.now()">| Valid until: {{ moment(paypalInfo.plan.valid_until).format('MMM Do YYYY, h:mma') }} UTC</span> <span v-if="paypalInfo.plan.valid_until < Date.now()">| Expired on: {{ moment(paypalInfo.plan.valid_until).format('MMM Do YYYY, h:mma') }} UTC</span>
            <br>
            <span v-if="paypalInfo.plan.valid_until >= Date.now()">Subscribed since: {{ moment(paypalInfo.first_txn).format('MMM Do YYYY, h:mma') }} | </span><span>Last payment: {{ moment(paypalInfo.txn_timestamp).format('MMM Do YYYY, h:mma') }}</span>
            <br><br>
            <span>Use Bender Pro in servers:</span>
            <br>
            <div v-if="paypalInfo.guilds.length !== 0">
                <div v-for="guildID in paypalInfo.guilds" class="guild box">
                    <img v-if="getGuild(guildID).iconSrc" class="guild-icon" :src="getGuild(guildID).iconSrc">
                    <span class="guild-name">{{ getGuild(guildID).name }}</span>
                    <a class="remove" @click="paypalInfo.guilds.splice(paypalInfo.guilds.indexOf(guildID), 1)"></a>
                </div>
            </div>
            <span v-if="paypalInfo.guilds.length === 0" class="gray">No servers selected.</span>
            <br>
            <a v-show="selectedGuildID" @click="paypalInfo.guilds.push(selectedGuildID)" :style="paypalInfo.guilds.length < maxPremiumGuilds && paypalInfo.guilds.indexOf(selectedGuildID) === -1 ? '' : 'pointer-events:none;opacity:.5;'">Add selected server ({{ getGuild(selectedGuildID).name }})</a>
            <span v-show="!selectedGuildID" class="gray">Select a server at the top to add it to Bender Pro.</span>
            <br>
            <a v-if="paypalInfo && paypalInfo.id && paypalInfo.plan && user && paypalInfo.id !== user.id" href="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&alias=PJZ5K5YLMQDJU">
                <img src="https://www.paypalobjects.com/en_US/i/btn/btn_unsubscribe_LG.gif" border="0">
            </a>
        </div>
        <span v-else>Plan: <span class="gray">No subscription to Bender Pro.</span></span>
        <span v-if="!paypalInfo.plan || paypalInfo.plan.state === 'Expired'">{{ paypalInfo.plan ? 'Renew' : 'Purchase' }} Bender Pro <a href="https://benderbot.co/pro" target="_blank">here</a>.</span>
    </div>
    <div id="paypalLogin" v-show="!paypalInfo || !paypalInfo.id"></div>
    <br>
    <a v-show="paypalInfo && paypalInfo.id" href="https://api.benderbot.co/paypal_logout">Logout of PayPal</a>
</div><div id="general" v-if="selectedGuildID && column === 'general' && !loading">
    <div class="header">
        <span class="bold">General Settings</span>
        <hr>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Prefix:</span>
            <input type="text" id="prefix" placeholder=";" maxlength="32" v-model="gSettings.prefix">
            <span class="info">The custom prefix for commands. Default is <span class="code">;</span>. Mentioning <span class="mention">@Bender</span> will always trigger commands, no matter what the prefix is.</span>
        </div>
        <div class="setting column">
            <div :class="'setting' + (guildPro ? '' : ' disabled')">
                <span class="key">Single autorole</span>
                <label class="switch small">
                    <input type="checkbox" v-model="temp.multi_autorole">
                    <span class="slider round"></span>
                </label>
                <span class="key">&nbsp;&nbsp;Multiple autoroles <span v-show="!guildPro">(Requires Bender Pro)</span></span>
            </div>
            <div class="setting" v-if="Array.isArray(gSettings.autorole)">
                <span class="key">Autoroles:</span>
                <div class="guild box" v-for="(roleID, index) in gSettings.autorole">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('ar', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.autorole || gSettings.autorole.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ar-list' ? null : 'ar-list'">
                            <span v-if="!temp.arl" class="role-icon">@</span>
                            <span v-if="!temp.arl">Choose a role...</span>
                            <div v-if="temp.arl">
                                <span :style="getRole(temp.arl).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.arl).cssColor">{{ getRole(temp.arl).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ar-list'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'ARL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'ARL-' + role.id" :value="role.id" v-model="temp.arl" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('arl')" :disabled="!temp.arl">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
            <div class="setting" v-else>
                <span class="key">Autorole:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'autorole' ? null : 'autorole'">
                            <span v-if="!gSettings.autorole" class="role-icon">@</span>
                            <span v-if="!gSettings.autorole">Choose a role...</span>
                            <div v-if="gSettings.autorole">
                                <span :style="getRole(gSettings.autorole).cssColor" class="role-icon">@</span>
                                <span :style="getRole(gSettings.autorole).cssColor">{{ getRole(gSettings.autorole).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'autorole'" class="dd-content">
                        <div><label for="AR-none">
                            <input type="radio" id="AR-none" value="" v-model="gSettings.autorole" class="hidden">
                            <span class="role-icon">❓</span>
                            <span class="role-name">None</span>
                        </label></div>
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'AR-' + role.id" :class="role.id === gSettings.agreement.role ? 'agreement disabled' : role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'AR-' + role.id" :value="role.id" v-model="gSettings.autorole" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
            </div>
            <span class="info">If the agreement system is enabled, members will receive this role after agreeing. Otherwise, it will be assigned upon joining the server.</span>
        </div>
    </div>
    <table class="table is-narrow" id="bools"><tbody>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.permMsgs">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Show "You don't have permission to use &lt;command&gt;" messages</span>
            </td>
        </tr>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.disabledMsgs">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Show "The &lt;command&gt; command is disabled" messages</span>
            </td>
        </tr>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.replyDM">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Reply to commands in DM when Bender doesn't have permission to send messages</span>
            </td>
        </tr>
    </tbody></table>
    <div class="setting">
        <span class="key">Timezone region:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'tzr' ? null : 'tzr'">
                    <span v-if="!gSettings.tzRegion">Choose a region...</span>
                    <div v-if="gSettings.tzRegion">
                        <span>{{ gSettings.tzRegion === 'Etc' ? 'GMT Offsets' : gSettings.tzRegion }}</span>
                    </div>
                </button>
            </div>
            <div class="dd-content" v-show="openDropdown === 'tzr'">
                <div v-for="region in tzRegions">
                    <label :for="'TZR-' + region">
                        <input type="radio" :id="'TZR-' + region" :value="region" v-model="gSettings.tzRegion" class="hidden">
                        <span>{{ region === 'Etc' ? 'GMT Offsets' : region }}</span>
                    </label>
                </div>
            </div>
        </div>
        <span class="key">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timezone:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'tz' ? null : 'tz'">
                    <span v-if="!gSettings.tz">Choose a timezone...</span>
                    <div v-if="gSettings.tz">
                        <span>{{ getTZName(gSettings.tz) }}</span>
                    </div>
                </button>
            </div>
            <div class="dd-content" v-show="openDropdown === 'tz'">
                <div v-for="tz in tzs" v-show="tz.region === gSettings.tzRegion">
                    <label :for="'TZ-' + tz.id">
                        <input type="radio" :id="'TZ-' + tz.id" :value="tz.id" v-model="gSettings.tz" class="hidden">
                        <span>{{ tz.name }}</span>
                    </label>
                </div>
                <div v-if="!gSettings.tzRegion">
                    <span class="gray">Select a region first!</span>
                </div>
            </div>
        </div>
        <span class="info">The timezone used for formatting dates in mod logs and other commands.</span>
    </div>
</div><div id="welcome" v-if="selectedGuildID && column === 'welcome' && !loading">
    <div class="header">
        <span class="bold">Welcome Messages</span>
        <hr>
    </div>
    <div class="setting">
        <div class="columns">
            <div class="column">
                <span class="key">Variables</span>
                <span class="info">
                    You can use variables such as <span class="code">{user}</span>, <span class="code">{member}</span>, and <span class="code">{server}</span> in the following messages.
                    <br>
                    More details about the variables can be found on <a href="https://benderbot.co/commands#welcome" target="_blank">the commands website</a>.
                </span>
            </div>
            <div class="column">
                <span class="key">Channel:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'welcome-chan' ? null : 'welcome-chan'">
                            <span v-if="!gSettings.memberLog.channel" class="channel-icon">#</span>
                            <span v-if="!gSettings.memberLog.channel">Choose a channel...</span>
                            <div v-if="gSettings.memberLog.channel">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.memberLog.channel).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'welcome-chan'" class="dd-content">
                        <div><label for="WC-none">
                            <input type="radio" id="WC-none" value="" v-model="gSettings.memberLog.channel" class="hidden">
                            <span class="channel-icon">❓</span>
                            <span class="channel-name">None</span>
                        </label></div>
                        <div v-for="chan in gChannels">
                            <label :for="'WC-' + chan.id" v-if="chan.type === 0">
                                <input type="radio" :id="'WC-' + chan.id" :value="chan.id" v-model="gSettings.memberLog.channel" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                        </div>
                        <div v-if="gChannels.length === 0">
                            <span class="gray">No eligible channels.</span>
                        </div>
                    </div>
                </div>
                <span class="info">The channel where all of the following messages will be sent (except welcome DM.) Unset to disable all of these messages.</span>
            </div>
        </div>
        <div class="smallToggle">
            <span class="key">Edit</span>
            <label class="switch small">
                <input type="checkbox" v-model="previewEnabled">
                <span class="slider round"></span>
            </label>
            <span class="key">&nbsp;&nbsp;Preview</span>
        </div>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span class="key">Welcome DM:</span>
        </div>
        <span class="info">Message sent to a user's DM when they join the server.</span>
        <textarea v-show="!previewEnabled" placeholder="Example: Welcome to {server}, please read the rules and enjoy!" v-model="gSettings.memberLog['join-dm']">{{ gSettings.memberLog['join-dm'] }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.memberLog['join-dm']" v-html="parseMD(gSettings.memberLog['join-dm'] || '', 'welcome')"></div>
        <div v-show="previewEnabled && !gSettings.memberLog['join-dm']"><i>None</i></div>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span class="key">Welcome message:</span>
        </div>
        <span class="info">Message sent when someone joins the server.</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.join" placeholder="Example: Welcome to {server}, {member}!">{{ gSettings.memberLog.join }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.memberLog.join" v-html="parseMD(gSettings.memberLog.join || '', 'welcome')"></div>
        <div v-show="previewEnabled && !gSettings.memberLog.join"><i>None</i></div>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span class="key">Leave message:</span>
        </div>
        <span class="info">Message sent when someone leaves the server.</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.leave" placeholder="Example: Goodbye {user}, we won't miss you!">{{ gSettings.memberLog.leave }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.memberLog.leave" v-html="parseMD(gSettings.memberLog.leave || '', 'welcome')"></div>
        <div v-show="previewEnabled && !gSettings.memberLog.leave"><i>None</i></div>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span class="key">Ban message:</span>
        </div>
        <span class="info">Message sent when someone is banned from the server.</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.ban" placeholder="Example: {user} was unable to follow the rules and has been banned!">{{ gSettings.memberLog.ban }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.memberLog.ban" v-html="parseMD(gSettings.memberLog.ban || '', 'welcome')"></div>
        <div v-show="previewEnabled && !gSettings.memberLog.ban"><i>None</i></div>
    </div>
</div><div id="selfroles" v-if="selectedGuildID && column === 'selfroles' && !loading">
    <div class="header">
        <span class="bold">Selfroles</span>
        <hr>
    </div>
    <div class="setting">
        <span class="info">Mark roles as joinable, so members can use <span class="code">{{ gSettings.prefix || ';' }}roleme</span> to add that role to themselves.</span>
        <table class="table is-narrow" id="joinables"><tbody>
            <tr>
                <th>Role</th>
                <th>Joinable</th>
                <th>Leavable</th>
            </tr>
            <tr v-for="role in gRoles" v-if="role.id !== selectedGuildID && !role.managed">
                <td>
                    <span class="role-icon" :style="role.cssColor">@</span>
                    <span class="role-name" :style="role.cssColor">{{ role.name }}</span>
                </td>
                <td>
                    <label class="switch small">
                        <input type="checkbox" v-model="gSettings.joinables[role.id].j">
                        <span class="slider round"></span>
                    </label>
                </td>
                <td>
                    <label class="switch small">
                        <input type="checkbox" v-model="gSettings.joinables[role.id].l">
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr v-if="gRoles.length === 0">
                <td><span class="gray">No suitable roles.</span></td>
            </tr>
        </tbody></table>
    </div>
</div><div id="agreement" v-if="selectedGuildID && column === 'agreement' && !loading">
    <div class="header">
        <span class="bold">Agreement</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.agreement.enabled">
            <span class="slider round"></span>
        </label>
        <hr>
    </div>
    <div class="columns">
    <div class="setting column">
        <span class="key">Channel:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'agr-chan' ? null : 'agr-chan'">
                    <div v-if="gSettings.agreement.channel">
                        <span class="channel-icon">#</span>
                        <span>{{ getChannel(gSettings.agreement.channel).name }}</span>
                    </div>
                    <div v-else>
                        <span class="channel-icon">#</span>
                        <span>Choose a channel...</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'agr-chan'" class="dd-content">
                <div v-show="gSettings.agreement.channel"><label for="AG-unset">
                    <input type="radio" id="AG-unset" value="" v-model="gSettings.agreement.channel" class="hidden">
                    <span class="channel-icon">❓</span>
                    <span class="channel-name">None</span>
                </label></div>
                <div v-for="chan in gChannels" v-show="gSettings.agreement.channel !== chan.id">
                    <label :for="'AG-' + chan.id" v-if="chan.type === 0">
                        <input type="radio" :id="'AG-' + chan.id" :value="chan.id" v-model="gSettings.agreement.channel" class="hidden">
                        <span class="channel-icon">#</span>
                        <span>{{ chan.name }}</span>
                    </label>
                    <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                </div>
                <div v-if="gChannels.length === 0">
                    <span class="gray">No eligible channels.</span>
                </div>
            </div>
        </div>
        <span class="info">This is the channel where members should be able to type {{ gSettings.prefix || ';' }}agree here to agree to the terms. Any messages not pinned and newer than 2 weeks will be automatically purged.</span>
    </div>
    <div class="setting column">
        <span class="key">Probationary Role:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'agr-role' ? null : 'agr-role'">
                    <span v-if="!gSettings.agreement.role" class="role-icon">@</span>
                    <span v-if="!gSettings.agreement.role">Choose a role...</span>
                    <div v-if="gSettings.agreement.role">
                        <span :style="getRole(gSettings.agreement.role).cssColor" class="role-icon">@</span>
                        <span :style="getRole(gSettings.agreement.role).cssColor">{{ getRole(gSettings.agreement.role).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'agr-role'" class="dd-content">
                <div><label for="AG-none">
                    <input type="radio" id="AG-none" value="" v-model="gSettings.agreement.role" class="hidden">
                    <span class="role-icon">❓</span>
                    <span class="role-name">None</span>
                </label></div>
                <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                    <label :for="'AG-' + role.id" :class="role.id === gSettings.autorole ? 'autorole disabled' : role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                        <input type="radio" :id="'AG-' + role.id" :value="role.id" v-model="gSettings.agreement.role" class="hidden">
                        <span :style="role.cssColor" class="role-icon">@</span>
                        <span :style="role.cssColor">{{ role.name }}</span>
                    </label>
                </div>
                <div v-if="gRoles.length === 0">
                    <span class="gray">No eligible roles.</span>
                </div>
            </div>
        </div>
        <span class="info">Upon joining the server, members will receive this role. It should restrict them from typing in any channels except the agreement channel.</span>
    </div>
    </div>
    <div class="text-setting">
        <span class="key">Message:</span>
        <div class="smallToggle">
            <span class="key">Edit</span>
            <label class="switch small">
                <input type="checkbox" v-model="previewEnabled">
                <span class="slider round"></span>
            </label>
            <span class="key">&nbsp;&nbsp;Preview</span>
        </div>
        <textarea v-show="!previewEnabled" placeholder="Message for new users" v-model="gSettings.agreement.message">{{ gSettings.agreement.message }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled" v-html="parseMD(gSettings.agreement.message || '')"></div>
        <span class="info">If specified, this message will be sent as a DM when a new user joins. It should contain server info, how to agree to the server rules, etc.</span>
    </div>
    <div class="time-setting">
        <span class="key">Wait time:</span>
        <input type="number" placeholder="5" v-model.number="gSettings.agreement.wait">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.waitH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">How long someone must be a member of the server to be able to use {{ gSettings.prefix || ';' }}agree. Default is 5 minutes. Settings to 0 means they do not have to wait.</span>
    </div>
    <div class="time-setting">
        <span class="key">Warn time:</span>
        <input type="number" placeholder="1" v-model.number="gSettings.agreement.warn">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.warnH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">When a user will be warned, if they have not yet agreed. Default is 1 hour. Set to 0 to disable.</span>
    </div>
    <div class="time-setting">
        <span class="key">Kick time:</span>
        <input type="number" placeholder="2" v-model.number="gSettings.agreement.kick">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.kickH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">When a user will be kicked from the server, if they have not yet agreed. Default is 2 hours. Set to 0 to disable.</span>
    </div>
</div><div id="logging" v-if="selectedGuildID && column === 'logging' && !loading">
    <div class="header">
        <span class="bold">Logging Settings</span>
        <hr>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Channel:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'log-chan' ? null : 'log-chan'">
                        <div v-if="gSettings.logging.channel">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(gSettings.logging.channel).name }}</span>
                        </div>
                        <div v-else>
                            <span class="channel-icon">#</span>
                            <span>Choose a channel...</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'log-chan'" class="dd-content">
                    <div v-show="gSettings.logging.channel"><label for="LG-none">
                        <input type="radio" id="LG-none" value="" v-model="gSettings.logging.channel" class="hidden">
                        <span class="channel-icon">❓</span>
                        <span class="channel-name">None</span>
                    </label></div>
                    <div v-for="chan in gChannels" v-show="gSettings.logging.channel !== chan.id">
                        <label :for="'LG-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'LG-' + chan.id" :value="chan.id" v-model="gSettings.logging.channel" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <span class="info">Channel where all moderation logs are sent, and where deleted/edited message/command logging are sent if an alternate channel is not chosen.</span>
        </div>
        <div class="bool-setting column">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging.cases">
                <span class="slider round"></span>
            </label>
            <span class="key">Enable mod-logging cases</span>
            <span class="info">Whether to save moderation logs in the database, with each one assigned a case number. Also allows the use of <span class="code">{{ gSettings.prefix || ';' }}reason</span> and viewing all mod logs for a user.</span>
        </div>
    </div>
    <div class="setting">
        <span class="key">Commands logged:</span>
        <br>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-ban']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}ban</span> + automatic bans
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-unban']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}unban</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-mute']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}mute</span> + automatic mutes
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-unmute']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}unmute</span> + automatic unmutes
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-kick']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}kick</span> + automatic kicks
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-role']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}role</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-purge']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}purge</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-warn']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}warn</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-clonerole']">
                <span class="slider round"></span>
            </label>
            <span class="code">{{ gSettings.prefix || ';' }}clonerole</span>
        </div>
    </div>
    <div class="time-setting">
        <div class="level">
            <div class="setting">
                <span class="key">Deleted message logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'dml-chan' ? null : 'dml-chan'">
                            <div v-if="gSettings.logging.deleted === true">
                                <span class="channel-icon">✅</span>
                                <span class="channel-name">Enabled</span>
                            </div>
                            <div v-else-if="gSettings.logging.deleted">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.deleted).name }}</span>
                            </div>
                            <div v-else>
                                <span class="channel-icon">#</span>
                                <span>Choose a channel...</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'dml-chan'" class="dd-content">
                        <div v-show="gSettings.logging.deleted !== true"><label for="DML-true">
                            <input type="radio" id="DML-true" :value="true" v-model="gSettings.logging.deleted" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label></div>
                        <div v-show="gSettings.logging.deleted"><label for="DML-false">
                            <input type="radio" id="DML-false" :value="false" v-model="gSettings.logging.deleted" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label></div>
                        <div v-for="chan in gChannels" v-show="gSettings.logging.deleted !== chan.id">
                            <label :for="'DML-' + chan.id" v-if="chan.type === 0">
                                <input type="radio" :id="'DML-' + chan.id" :value="chan.id" v-model="gSettings.logging.deleted" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="setting">
                <span class="key">Edited message logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'eml-chan' ? null : 'eml-chan'">
                            <div v-if="gSettings.logging.edited === true">
                                <span class="channel-icon">✅</span>
                                <span class="channel-name">Enabled</span>
                            </div>
                            <div v-else-if="gSettings.logging.edited">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.edited).name }}</span>
                            </div>
                            <div v-else>
                                <span class="channel-icon">#</span>
                                <span>Choose a channel...</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'eml-chan'" class="dd-content">
                        <div v-show="gSettings.logging.edited !== true"><label for="EML-true">
                            <input type="radio" id="EML-true" :value="true" v-model="gSettings.logging.edited" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label></div>
                        <div v-show="gSettings.logging.edited"><label for="EML-false">
                            <input type="radio" id="EML-false" :value="false" v-model="gSettings.logging.edited" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label></div>
                        <div v-for="chan in gChannels" v-show="gSettings.logging.edited !== chan.id">
                            <label :for="'EML-' + chan.id" v-if="chan.type === 0">
                                <input type="radio" :id="'EML-' + chan.id" :value="chan.id" v-model="gSettings.logging.edited" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="setting">
                <span class="key">Command logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'cml-chan' ? null : 'cml-chan'">
                            <div v-if="gSettings.logging.commands === true">
                                <span class="channel-icon">✅</span>
                                <span class="channel-name">Enabled</span>
                            </div>
                            <div v-else-if="gSettings.logging.commands">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.commands).name }}</span>
                            </div>
                            <div v-else>
                                <span class="channel-icon">#</span>
                                <span>Choose a channel...</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'cml-chan'" class="dd-content">
                        <div v-show="gSettings.logging.commands !== true"><label for="CML-true">
                            <input type="radio" id="CML-true" :value="true" v-model="gSettings.logging.commands" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label></div>
                        <div v-show="gSettings.logging.commands"><label for="CML-false">
                            <input type="radio" id="CML-false" :value="false" v-model="gSettings.logging.commands" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label></div>
                        <div v-for="chan in gChannels"  v-show="gSettings.logging.commands !== chan.id">
                            <label :for="'CML-' + chan.id" v-if="chan.type === 0">
                                <input type="radio" :id="'CML-' + chan.id" :value="chan.id" v-model="gSettings.logging.commands" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div><div id="moderation" v-if="selectedGuildID && column === 'moderation' && !loading">
    <div class="header">
        <span class="bold">Mute & DM Settings</span>
        <hr>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Mute role:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'muterole' ? null : 'muterole'">
                        <span v-if="!gSettings.mutes.role" class="role-icon">@</span>
                        <span v-if="!gSettings.mutes.role">Choose a role...</span>
                        <div v-if="gSettings.mutes.role">
                            <span :style="getRole(gSettings.mutes.role).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.mutes.role).cssColor">{{ getRole(gSettings.mutes.role).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'muterole'" class="dd-content">
                    <div><label for="MR-none">
                        <input type="radio" id="MR-none" value="" v-model="gSettings.mutes.role" class="hidden">
                        <span class="role-icon">❓</span>
                        <span class="role-name">None</span>
                    </label></div>
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'MR-' + role.id" :class="role.id === gSettings.agreement.role ? 'agreement disabled' : role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'MR-' + role.id" :value="role.id" v-model="gSettings.mutes.role" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <span class="info">Role that is added to members when they are muted. If you don't have one, see the help for <span class="code">{{ gSettings.prefix || ';' }}setup mute</span> on the <a href="https://benderbot.co/commands#setup" target="_blank">commands page</a>.</span>
        </div>
        <div class="time-setting column">
            <span class="key">Default mute duration:</span>
            <input type="number" placeholder="30m" v-model.number="gSettings.muteTime">
            <span @click="muteUnit()" class="blue" style="cursor: pointer;">{{ {m: 'minutes', h: 'hours', d: 'days'}[gSettings.muteTimeUnits] }}</span>
            <span class="info">The amount of time a user will be muted when a moderator uses <span class="code">{{ gSettings.prefix || ';' }}mute</span> without a time, or when being automatically muted due to an automod or filter violation. Click the units to toggle them (<span class="blue">minutes</span>, <span class="blue">hours</span>, or <span class="blue">days</span>.)</span>
        </div>
    </div>
    <hr>
    <span class="key">DM settings:</span>
    <span class="info">These messages will be sent to a user that is being muted, unmuted, kicked, or banned, respectively. To see the variables available in these messages, see the <a href="https://benderbot.co/commands#dm" target="_blank">commands page</a>.</span>
    <br>
    <div class="smallToggle">
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span :class="previewEnabled ? 'key yellow' : 'key'">Mute DM:</span>
        </div>
        <span class="info">Message sent to a user's DM when they are muted.</span>
        <textarea v-show="!previewEnabled" placeholder="You have been muted in {server}." v-model="gSettings.config.muteDM">{{ gSettings.config.muteDM }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.config.muteDM" v-html="parseMD('*You have been muted in {server}.*\n'+gSettings.config.muteDM, 'dm')"></div>
        <span v-show="previewEnabled && !gSettings.config.muteDM" class="gray">None</span>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span :class="previewEnabled ? 'key yellow' : 'key'">Unmute DM:</span>
        </div>
        <span class="info">Message sent to a user's DM when they are unmuted.</span>
        <textarea v-show="!previewEnabled" placeholder="You have been unmuted in {server}." v-model="gSettings.config.unmuteDM">{{ gSettings.config.unmuteDM }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.config.unmuteDM" v-html="parseMD('*You have been unmuted in {server}.*\n'+gSettings.config.unmuteDM, 'dm')"></div>
        <span v-show="previewEnabled && !gSettings.config.unmuteDM" class="gray">None</span>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span :class="previewEnabled ? 'key yellow' : 'key'">Kick DM:</span>
        </div>
        <span class="info">Message sent to a user's DM when they are kicked.</span>
        <textarea v-show="!previewEnabled" placeholder="You have been kicked from {server}." v-model="gSettings.config.kickDM">{{ gSettings.config.kickDM }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.config.kickDM" v-html="parseMD('*You have been kicked from {server}.*\n'+gSettings.config.kickDM, 'dm')"></div>
        <span v-show="previewEnabled && !gSettings.config.kickDM" class="gray">None</span>
    </div>
    <div class="text-setting">
        <div class="key-header">
            <span :class="previewEnabled ? 'key yellow' : 'key'">Ban DM:</span>
        </div>
        <span class="info">Message sent to a user's DM when they they are banned.</span>
        <textarea v-show="!previewEnabled" placeholder="You have been banned from {server}." v-model="gSettings.config.banDM">{{ gSettings.config.banDM }}</textarea>
        <div class="preview-wrapper" v-show="previewEnabled && gSettings.config.banDM" v-html="parseMD('*You have been banned from {server}.*\n'+gSettings.config.banDM, 'dm')"></div>
        <span v-show="previewEnabled && !gSettings.config.banDM" class="gray">None</span>
    </div>
</div><div id="tags" v-if="selectedGuildID && column === 'tags' && !loading">
    <div class="header">
        <span class="bold">Tags</span>
        <hr>
    </div>
    <span class="info">Tags are used like simple commands; if you use Bender's prefix + the tag name, you get a response.<br>For example, you could make a tag "hello" with the response "world." Details about variables you can use, i.e. <span class="code">{args}</span>, can be found <a href="https://benderbot.co/commands#tag" target="_blank">here.</a></span>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="tag_list" class="table wide-table"><tbody>
        <tr>
            <th>Tag Name</th>
            <th>Tag Content</th>
        </tr>
        <tr v-for="(content, name) in gSettings.tags" v-if="content">
            <td><span class="csfont">{{ (gSettings.prefix || ';') + name }}</span></td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.tags[name]">{{ content }}</textarea>
                <div v-show="previewEnabled" v-html="parseMD(content, 'tag')"></div>
            </td>
            <td><a @click="del('tag', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.tags) === 0">
            <td><span class="gray">No tags added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.tags) < 50">
        <div class="group">
            <div>
                <span class="key">Add a new tag:</span> <input :class="temp.tag_name && aliasMap[temp.tag_name.toLowerCase()] ? 'error' : ''" type="text" placeholder="New tag name" v-model="temp.tag_name">
            </div>
            <span v-if="temp.tag_name && aliasMap[temp.tag_name.toLowerCase()]" class="error">Tags cannot have the same name as commands.</span>
        </div>
        <textarea placeholder="New tag content" v-model="temp.tag_content">{{ temp.tag_content }}</textarea>
        <button class="button add" @click="add('tag')" :disabled="!temp.tag_name || !temp.tag_content || aliasMap[temp.tag_name.toLowerCase()]">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of tags reached; Cannot add more.</span>
</div><div id="modlog" v-if="selectedGuildID && column === 'modlog' && !loading">
    <div class="header">
        <span class="bold">Mod Log [COMING SOON]</span>
        <hr>
    </div>
    <div class="setting"><span class="info"><i>To enable/disable the case system or set which commands make cases, see the <a @click="column = 'logging'">Logging Settings</a> section.</i></span></div>
    <div class="setting" v-if="getLen(gSettings.modlog) > 0">
        <span class="gray">{{ getLen(gSettings.modlog) }} case{{ getLen(gSettings.modlog) > 1 ? 's' : '' }} on record.</span>
        <span class="key">Search case:</span> <input id="search-input" type="text" placeholder="Case" v-model="searchValue">
    </div>
    <div class="setting" v-else><span class="gray">No mod logs yet.</span></div>
    <table id="modlog_list" class="table wide-table" v-show="getLen(gSettings.modlog) > 0"><tbody>
        <tr>
            <th>Case #</th>
            <th>Type</th>
            <th>User ID</th>
            <th>Issuer ID</th>
            <th>Reason</th>
            <th>Time</th>
        </tr>
        <!-- the following check: if a search value is entered AND one of the following: -->
        <!-- case number = number entered -->
        <!-- reason includes the search string -->
        <!-- ID was resolved to a tag and the tag includes the search string -->
        <tr v-for="(data, key, index) in gSettings.modlog" v-show="!searchValue || (searchValue.match(/^\d+$/) && (index+1)+'' === searchValue) || (!searchValue.match(/^\d+$/) && data.extras && data.extras.reason && data.extras.reason.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1) || (!searchValue.match(/^\d+$/) && resolveUser(data.target) !== data.target && resolveUser(data.target).toLowerCase().indexOf(searchValue.toLowerCase()) !== -1)">
            <td>{{ index+1 }}</td>
            <td class="modlog-action">{{ data.action.replace('cmd-', '') }}</td>
            <td v-html="resolveUser(data.target)"></td>
            <td v-html="resolveUser(data.moderator)"></td>
            <td v-html="data.extras ? data.extras.reason ? parseMD(data.extras.reason) : '&amp;lt;not provided&amp;gt;' : '&amp;lt;not provided&amp;gt;'"></td>
            <td>{{ gSettings.tzRegion && gSettings.tz ? moment(data.timestamp).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.timestamp).format('MMM Do YYYY, h:mma z') }}</td>
        </tr>
    </tbody></table>
</div><div id="aliases" v-if="selectedGuildID && column === 'aliases' && !loading">
    <div class="header">
        <span class="bold">Aliases</span>
        <hr>
    </div>
    <span class="info">Aliases are used to give commands an alternative name.</span>
    <table id="aliases_list" class="table wide-table"><tbody>
        <tr>
            <th>Alias</th>
            <th>Command</th>
        </tr>
        <tr v-for="(command, name) in gSettings.aliases" v-if="command !== null">
            <td><span class="csfont">{{ (gSettings.prefix || ';') + name }}</span></td>
            <td><span class="code">{{ (gSettings.prefix || ';') + command }}</span></td>
            <td><a @click="del('alias', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.aliases) === 0">
            <td><span class="gray">No aliases added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.aliases) < 50">
        <span class="key">Add a new alias:</span>
        <div class="dd">
            <div class="dd-trigger">
                <div class="button" @click="openDropdown = openDropdown === 'alias' ? null : 'alias'">
                    <span v-if="!temp.alias_content">Choose a command...</span>
                    <div v-if="temp.alias_content">
                        <span class="csfont">{{ (gSettings.prefix || ';') + temp.alias_content }}</span>
                    </div>
                </div>
            </div>
            <div class="dd-content" v-show="openDropdown === 'alias'">
                <div v-for="(data, group) in commandList">
                    <div class="gray mini-header">{{ groupNames[group] }}</div>
                    <label v-for="(aliases, command) in data" :for="'AL-' + command">
                        <input type="radio" :id="'AL-' + command" :value="command" v-model="temp.alias_content" class="hidden">
                        <span class="csfont">{{ (gSettings.prefix || ';')+command }}</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="group">
            <div>
                <input :class="temp.alias_name && aliasMap[temp.alias_name.toLowerCase()] ? 'error' : ''" type="text" placeholder="New alias name" v-model="temp.alias_name">
            </div>
            <span v-if="temp.alias_name && aliasMap[temp.alias_name.toLowerCase()]" class="error">Aliases cannot have the same name<br>as other commands.</span>
        </div>
        <button class="button add" @click="add('alias')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of aliases reached; Cannot add more.</span>
</div><div id="mutes" v-if="selectedGuildID && column === 'mutes' && !loading">
    <div class="header">
        <span class="bold">Mutes</span>
        <hr>
    </div>
    <div class="setting" v-if="getLen(gSettings.mutes, ['role', 'default']) > 0">
        <span class="key">There {{ getLen(gSettings.mutes, ['role', 'default']) > 1 ? 'are' : 'is' }} currently {{ getLen(gSettings.mutes, ['role', 'default']) }} active mute{{ getLen(gSettings.mutes, ['role', 'default']) > 1 ? 's' : '' }}.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No active mutes currently.</span>
    </div>
    <table id="mutes_list" class="table wide-table" v-show="getLen(gSettings.mutes, ['role', 'default']) > 0"><tbody>
        <tr>
            <th>User ID</th>
            <th>Issuer ID</th>
            <th>Ends at</th>
            <th>Reason</th>
        </tr>
        <tr v-for="(data, userID) in gSettings.mutes" v-if="data && userID !== 'role' && userID !== 'default'">
            <td v-html="resolveUser(userID)"></td>
            <td v-html="resolveUser(data.issuer)"></td>
            <td v-if="data.timestamp">{{ gSettings.tzRegion && gSettings.tz ? moment(data.timestamp).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.timestamp).format('MMM Do YYYY, h:mma z') }}</td>
            <td v-else><i>Never</i></td>
            <td>{{ data.reason }}</td>
        </tr>
    </tbody></table>
</div><div id="filter" v-if="selectedGuildID && column === 'filter' && !loading">
    <div class="header">
        <span class="bold">Filter</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.filter.enabled">
            <span class="slider round"></span>
        </label>
        <hr>
    </div>
    <div class="box is-warning" v-if="gSettings.filter.enabled && !gSettings.automod.enabled">
        <span class="gray">Filter is not currently enabled because <a @click="column = 'automod'">automod</a> is disabled.</span>
    </div>
    <span class="info">The filter is used to prevent members from typing certain words/phrases in chat.<br>It works using standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_meaning_in_regular_expressions" target="_blank">JavaScript regex syntax</a>. To test whether your pattern will match certain words/phrases, I recommend <a href="https://regexr.com/" target="_blank">Regexr</a>.</span>
    <br>
    <br>
    <div class="columns">
        <div class="column">
            <span class="key">Actions:</span>
            <span v-for="num in [1,2,3]">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'faction'+num ? null : 'faction'+num">
                            <span v-if="!gSettings.filter['action'+num]">Warn</span>
                            <div v-if="gSettings.filter['action'+num]">
                                <span>{{ gSettings.filter['action'+num].substr(0,1).toUpperCase() + gSettings.filter['action'+num].substr(1) }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'faction'+num" class="dd-content">
                        <div><label :for="'faction'+num+'-warn'">
                            <input type="radio" :id="'faction'+num+'-warn'" value="warn" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Warn</span>
                        </label></div>
                        <div><label :for="'faction'+num+'-mute'">
                            <input type="radio" :id="'faction'+num+'-mute'" value="mute" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Mute</span>
                        </label></div>
                        <div><label :for="'faction'+num+'-kick'">
                            <input type="radio" :id="'faction'+num+'-kick'" value="kick" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Kick</span>
                        </label></div>
                        <div><label :for="'faction'+num+'-ban'">
                            <input type="radio" :id="'faction'+num+'-ban'" value="ban" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Ban</span>
                        </label></div>
                    </div>
                </div>
                <span v-if="num !== 3" class="key">&nbsp;&gt;&gt;</span>
            </span>
        </div>
        <div class="column">
            <span class="key">Message:</span>
            <textarea v-show="!previewEnabled" placeholder="Blacklisted phrase" v-model="gSettings.filter.message">{{ gSettings.filter.message }}</textarea>
            <div v-show="previewEnabled" v-html="parseMD(gSettings.filter.message || '')"></div>
            <span class="info">This message will be shown whenever a user violates the filter and a message is removed.</span>
        </div>
    </div>
    <br>
    <div class="columns">
        <div class="setting column">
            <span class="key">Ignore members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'filter-ign' ? null : 'filter-ign'">
                        <div v-if="gSettings.ignore.filter.type && gSettings.ignore.filter.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.filter.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'filter-ign'" class="dd-content">
                    <div><label for="filter-ign-0">
                        <input type="radio" id="filter-ign-0" value="none" v-model="gSettings.ignore.filter.type" class="hidden">
                        <span>None</span>
                    </label></div>
                    <div><label for="filter-ign-1">
                        <input type="radio" id="filter-ign-1" value="role_hier" v-model="gSettings.ignore.filter.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label></div>
                    <div><label for="filter-ign-2">
                        <input type="radio" id="filter-ign-2" value="role_list" v-model="gSettings.ignore.filter.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label></div>
                    <div><label for="filter-ign-3">
                        <input type="radio" id="filter-ign-3" value="discord_perm" v-model="gSettings.ignore.filter.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label></div>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.filter.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'filter-ign-roleh' ? null : 'filter-ign-roleh'">
                        <span v-if="!gSettings.ignore.filter.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.filter.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.filter.data">
                            <span :style="getRole(gSettings.ignore.filter.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.filter.data).cssColor">{{ getRole(gSettings.ignore.filter.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'filter-ign-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'FIIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'FIIH-' + role.id" :value="role.id" v-model="gSettings.ignore.filter.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div class="dd" v-else-if="gSettings.ignore.filter.type === 'discord_perm'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'filter-ign-dis' ? null : 'filter-ign-dis'">
                        <span v-if="!gSettings.ignore.filter.data">Choose a Discord permission...</span>
                        <div v-if="gSettings.ignore.filter.data">{{ discordPermissionNames[gSettings.ignore.filter.data] }}</div>
                    </button>
                </div>
                <div v-show="openDropdown === 'filter-ign-dis'" class="dd-content">
                    <div v-for="(permName, permID) in discordPermissionNames">
                        <label :for="'FIID-' + permID">
                            <input type="radio" :id="'FIID-' + permID" :value="permID" v-model="gSettings.ignore.filter.data" class="hidden">
                            <span>{{ permName }}</span>
                        </label>
                    </div>
                </div>
            </div>
            <span v-else-if="gSettings.ignore.filter.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.filter.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('fil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.filter.data || gSettings.ignore.filter.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'filter-ign-rolel' ? null : 'filter-ign-rolel'">
                            <span v-if="!temp.fil" class="role-icon">@</span>
                            <span v-if="!temp.fil">Choose a role...</span>
                            <div v-if="temp.fil">
                                <span :style="getRole(temp.fil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.fil).cssColor">{{ getRole(temp.fil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'filter-ign-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'FILL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'FILL-' + role.id" :value="role.id" v-model="temp.fil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('fil')" :disabled="!temp.fil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </span>
        </div>
        <div class="setting column">
            <span class="key">Ignore filter in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.ignore.filterChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('fic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.ignore.filterChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'fic_chan' ? null : 'fic_chan'">
                        <span v-if="!temp.fic" class="channel-icon">#</span>
                        <span v-if="!temp.fic">Choose a channel...</span>
                        <div v-if="temp.fic">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.fic).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'fic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'FIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'FIC-' + chan.id" :value="chan.id" v-model="temp.fic" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('fic')" :disabled="!temp.fic || gSettings.ignore.filterChans.indexOf(temp.fic) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <br>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="filter_list" class="table wide-table"><tbody>
        <tr>
            <th>#</th>
            <th>Pattern</th>
        </tr>
        <tr v-for="(pattern, index) in gSettings.filter.patterns">
            <td>{{ index+1 }}</td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.filter.patterns[index]">{{ pattern }}</textarea>
                <div v-show="previewEnabled" class="regex" v-html="hlRegex(pattern)"></div>
            </td>
            <td><a @click="del('filter', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.filter.patterns) === 0">
            <td><span class="gray">No filter patterns added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.filter.patterns) < 20">
        <span class="key">Add a new pattern:</span>
        <textarea id="new-pattern" placeholder="New filter item" v-model="temp.filter">{{ temp.filter }}</textarea>
        <button class="button add" @click="add('filter')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of items reached (20); Cannot add more.</span>
    <hr>
    <div class="setting">
        <span class="title is-5">Warnlist:</span>
        <div id="filter_warnlist" v-show="getLen(gSettings.filter.warnlist) > 0">
            <div class="guild box" v-for="(count, userID) in gSettings.filter.warnlist" v-if="count">
                <span class="blue">User:</span> <span v-html="resolveUser(userID)"></span>
                <br>
                <span class="red">Warnings:</span> <span>{{ count }}</span>
            </div>
        </div>
        <span class="info" v-show="getLen(gSettings.filter.warnlist) === 0">No members warned for violating the filter.</span>
    </div>
</div><div id="namefilter" v-if="selectedGuildID && column === 'namefilter' && !loading">
    <div class="header">
        <span class="bold">Name Filter</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.namefilter.enabled">
            <span class="slider round"></span>
        </label>
        <hr>
    </div>
    <span class="info">Automatically bans any members with names that match the patterns you add below. Uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_meaning_in_regular_expressions" target="_blank">JavaScript regex syntax</a>.<br>To test whether your patter will match certain words/phrases, I recommend <a href="https://regexr.com/" target="_blank">Regexr</a>.</span>
    <br>
    <br>
    <div class="columns">
        <div class="setting column is-two-thirds">
            <span class="key">Ignore members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign' ? null : 'namefilter-ign'">
                        <div v-if="gSettings.ignore.names.type && gSettings.ignore.names.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.names.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'namefilter-ign'" class="dd-content">
                    <div><label for="namefilter-ign-0">
                        <input type="radio" id="namefilter-ign-0" value="none" v-model="gSettings.ignore.names.type" class="hidden">
                        <span>None</span>
                    </label></div>
                    <div><label for="namefilter-ign-1">
                        <input type="radio" id="namefilter-ign-1" value="role_hier" v-model="gSettings.ignore.names.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label></div>
                    <div><label for="namefilter-ign-2">
                        <input type="radio" id="namefilter-ign-2" value="role_list" v-model="gSettings.ignore.names.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label></div>
                    <div><label for="namefilter-ign-3">
                        <input type="radio" id="namefilter-ign-3" value="discord_perm" v-model="gSettings.ignore.names.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label></div>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.names.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-roleh' ? null : 'namefilter-ign-roleh'">
                        <span v-if="!gSettings.ignore.names.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.names.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.names.data">
                            <span :style="getRole(gSettings.ignore.names.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.names.data).cssColor">{{ getRole(gSettings.ignore.names.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'namefilter-ign-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'NFIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'NFIH-' + role.id" :value="role.id" v-model="gSettings.ignore.names.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div class="dd" v-else-if="gSettings.ignore.names.type === 'discord_perm'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-dis' ? null : 'namefilter-ign-dis'">
                        <span v-if="!gSettings.ignore.names.data">Choose a Discord permission...</span>
                        <div v-if="gSettings.ignore.names.data">{{ discordPermissionNames[gSettings.ignore.names.data] }}</div>
                    </button>
                </div>
                <div v-show="openDropdown === 'namefilter-ign-dis'" class="dd-content">
                    <div v-for="(permName, permID) in discordPermissionNames">
                        <label :for="'NFID-' + permID">
                            <input type="radio" :id="'NFID-' + permID" :value="permID" v-model="gSettings.ignore.names.data" class="hidden">
                            <span>{{ permName }}</span>
                        </label>
                    </div>
                </div>
            </div>
            <span v-else-if="gSettings.ignore.names.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.names.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('nfil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.names.data || gSettings.ignore.names.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-rolel' ? null : 'namefilter-ign-rolel'">
                            <span v-if="!temp.nfil" class="role-icon">@</span>
                            <span v-if="!temp.nfil">Choose a role...</span>
                            <div v-if="temp.nfil">
                                <span :style="getRole(temp.nfil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.nfil).cssColor">{{ getRole(temp.nfil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'namefilter-ign-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'NFIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'NFIL-' + role.id" :value="role.id" v-model="temp.nfil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('nfil')" :disabled="!temp.nfil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </span>
        </div>
        <div class="setting column">
            <label class="switch">
                <input type="checkbox" v-model="gSettings.namefilter.show_welcome">
                <span class="slider round"></span>
            </label>
            <span class="info">Show welcome messages (i.e. <span class="code">Joe 🎸#7070 joined the server</span> and <span class="code">Joe 🎸#7070 was banned</span>) for users that violate the name filter</span>
        </div>
    </div>
    <br>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="namefilter_list" class="table wide-table"><tbody>
        <tr>
            <th>#</th>
            <th>Pattern</th>
        </tr>
        <tr v-for="(pattern, index) in gSettings.namefilter.patterns">
            <td>{{ index+1 }}</td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.namefilter.patterns[index]">{{ pattern }}</textarea>
                <div v-show="previewEnabled" class="regex" v-html="hlRegex(pattern)"></div>
            </td>
            <td><a @click="del('namefilter', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.namefilter.patterns) === 0">
            <td><span class="gray">No name filter patterns added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.namefilter.patterns) < 20">
        <span class="key">Add a new pattern:</span>
        <textarea id="new-namepattern" placeholder="New filter item" v-model="temp.namefilter">{{ temp.namefilter }}</textarea>
        <button class="button add" @click="add('namefilter')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of items reached (20); Cannot add more.</span>
</div><div id="names" v-if="selectedGuildID && column === 'names' && !loading">
    <div class="header">
        <span class="bold">Name History</span>
        <hr>
    </div>
    <div class="setting" v-if="getLen(gSettings.nicknames) > 0">
        <span class="info">There {{ getLen(gSettings.nicknames) > 1 ? 'are' : 'is' }} currently {{ getLen(gSettings.nicknames) }} member{{ getLen(gSettings.nicknames) > 1 ? 's' : '' }} with name changes recorded.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No members with name changes recorded.</span>
    </div>
    <table id="name_history" class="table wide-table"><tbody>
        <tr>
            <th>User</th>
            <th>Nicknames</th>
            <th>Usernames</th>
        </tr>
        <tr v-for="(data, userID) in gSettings.nicknames" v-if="data">
            <td v-html="resolveUser(userID)"></td>
            <td><span class="name" v-for="item in data">{{ item }}</span></td>
            <td><div v-if="gNames[userID]"><span class="name" v-for="item in gNames[userID]">{{ item }}</span></div><div v-else>N/A</div></td>
        </tr>
    </tbody></table>
</div><div id="giveaways" v-if="selectedGuildID && column === 'giveaways' && !loading">
    <div class="header">
        <span class="bold">Giveaways</span>
        <hr>
    </div>
    <div class="setting" v-if="getLen(gSettings.giveaways) > 0">
        <span class="info">There {{ getLen(gSettings.giveaways) > 1 ? 'are' : 'is' }} {{ getLen(gSettings.giveaways) }} active giveaway{{ getLen(gSettings.giveaways) > 1 ? 's' : '' }}.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No active giveaways.</span>
    </div>
    <table id="giveaway_table" class="table wide-table" v-show="getLen(gSettings.giveaways) > 0"><tbody>
        <tr>
            <th>ID</th>
            <th>Created by</th>
            <th>Prize</th>
            <th>In channel</th>
            <th>Num. of winners</th>
        </tr>
        <tr v-for="(data, id) in gSettings.giveaways" v-if="data">
            <td>{{ id }}</td>
            <td v-html="resolveUser(data.creator)"></td>
            <td>{{ data.prize }}</td>
            <td v-html="parseMD('<#'+data.channel+'>')"></td>
            <td>{{ data.winners || 1 }}</td>
        </tr>
    </tbody></table>
</div><div id="cmdstatus" v-if="selectedGuildID && column === 'cmdstatus' && !loading">
    <div class="header">
        <span class="bold">Disabled Commands & Groups</span>
        <hr>
    </div>
    <table v-for="(data, group) in commandList" class="table skinny-table"><tbody>
        <tr>
            <th>{{ groupNames[group] }}</th>
            <th><label class="switch small">
                <input type="checkbox" v-model="gSettings.groupStatus[group]">
                <span class="slider round"></span>
            </label></th>
        </tr>
        <tr v-for="(aliases, command) in data" v-show="gSettings.groupStatus[group]">
            <td><span class="code">{{ (gSettings.prefix || ';')+command }}</span></td>
            <td><label class="switch small">
                <input type="checkbox" v-model="gSettings.commandStatus[command]">
                <span class="slider round"></span>
            </label></td>
        </tr>
    </tbody></table>
</div><div id="automod" v-if="selectedGuildID && column === 'automod' && !loading">
    <div class="header">
        <span class="bold">Automod</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.automod.enabled">
            <span class="slider round"></span>
        </label>
        <hr>
    </div>
    <div class="columns text-setting">
        <div class="setting column">
            <span class="key">Ignore members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'automod-ign' ? null : 'automod-ign'">
                        <div v-if="gSettings.automod.ignore.type && gSettings.automod.ignore.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.automod.ignore.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'automod-ign'" class="dd-content">
                    <div><label for="automod-ign-0">
                        <input type="radio" id="automod-ign-0" value="none" v-model="gSettings.automod.ignore.type" class="hidden">
                        <span>None</span>
                    </label></div>
                    <div><label for="automod-ign-1">
                        <input type="radio" id="automod-ign-1" value="role_hier" v-model="gSettings.automod.ignore.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label></div>
                    <div><label for="automod-ign-2">
                        <input type="radio" id="automod-ign-2" value="role_list" v-model="gSettings.automod.ignore.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label></div>
                    <div><label for="automod-ign-3">
                        <input type="radio" id="automod-ign-3" value="discord_perm" v-model="gSettings.automod.ignore.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label></div>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.automod.ignore.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'automod-ign-roleh' ? null : 'automod-ign-roleh'">
                        <span v-if="!gSettings.automod.ignore.data" class="role-icon">@</span>
                        <span v-if="!gSettings.automod.ignore.data">Choose a role...</span>
                        <div v-if="gSettings.automod.ignore.data">
                            <span :style="getRole(gSettings.automod.ignore.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.automod.ignore.data).cssColor">{{ getRole(gSettings.automod.ignore.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'automod-ign-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'AMIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'AMIH-' + role.id" :value="role.id" v-model="gSettings.automod.ignore.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div class="dd" v-else-if="gSettings.automod.ignore.type === 'discord_perm'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'automod-ign-dis' ? null : 'automod-ign-dis'">
                        <span v-if="!gSettings.automod.ignore.data">Choose a Discord permission...</span>
                        <div v-if="gSettings.automod.ignore.data">{{ discordPermissionNames[gSettings.automod.ignore.data] }}</div>
                    </button>
                </div>
                <div v-show="openDropdown === 'automod-ign-dis'" class="dd-content">
                    <div v-for="(permName, permID) in discordPermissionNames">
                        <label :for="'AMID-' + permID">
                            <input type="radio" :id="'AMID-' + permID" :value="permID" v-model="gSettings.automod.ignore.data" class="hidden">
                            <span>{{ permName }}</span>
                        </label>
                    </div>
                </div>
            </div>
            <span v-else-if="gSettings.automod.ignore.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.automod.ignore.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('amil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.automod.ignore.data || gSettings.automod.ignore.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'automod-ign-rolel' ? null : 'automod-ign-rolel'">
                            <div v-if="temp.amil">
                                <span :style="getRole(temp.amil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.amil).cssColor">{{ getRole(temp.amil).name }}</span>
                            </div>
                            <div v-else>
                                <span class="role-icon">@</span>
                                <span>Choose a role...</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'automod-ign-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'AMIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'AMIL-' + role.id" :value="role.id" v-model="temp.amil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('amil')" :disabled="!temp.amil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </span>
        </div>
        <div class="setting column">
            <span class="key">Ignore all of the following in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.automod.ignoreChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('amic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.automod.ignoreChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'amic_chan' ? null : 'amic_chan'">
                        <span v-if="!temp.amic" class="channel-icon">#</span>
                        <span v-if="!temp.amic">Choose a channel...</span>
                        <div v-if="temp.amic">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.amic).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'amic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'AMIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'AMIC-' + chan.id" :value="chan.id" v-model="temp.amic" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('amic')" :disabled="!temp.amic || gSettings.automod.ignoreChans.indexOf(temp.amic) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <hr class="thin">
    <div class="columns">
        <div class="setting column">
            <span class="key">Allow invites:</span>
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.automod.allow_invites">
                <span class="slider round"></span>
            </label>
            <span class="info">When a user posts an invite to another Discord server, i.e. <a href="https://discord.gg/99xaeGn">https://discord.gg/99xaeGn</a>, the message <span :class="gSettings.automod.allow_invites ? 'green' : 'red'">{{ gSettings.automod.allow_invites ? 'will not' : 'will'}}</span> be removed and an automod violation <span :class="gSettings.automod.allow_invites ? 'green' : 'red'">{{ gSettings.automod.allow_invites ? 'will not' : 'will'}}</span> be issued.</span>
        </div>
        <div class="setting column" v-show="!gSettings.automod.allow_invites">
            <span class="key">Ignore invites from members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-inv' ? null : 'ign-inv'">
                        <div v-if="gSettings.ignore.invites.type && gSettings.ignore.invites.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.invites.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-inv'" class="dd-content">
                    <label for="ign-inv-0">
                        <input type="radio" id="ign-inv-0" value="none" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>None</span>
                    </label>
                    <label for="ign-inv-1">
                        <input type="radio" id="ign-inv-1" value="role_hier" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label>
                    <label for="ign-inv-2">
                        <input type="radio" id="ign-inv-2" value="role_list" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label>
                    <label for="ign-inv-3">
                        <input type="radio" id="ign-inv-3" value="discord_perm" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.invites.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-inv-roleh' ? null : 'ign-inv-roleh'">
                        <span v-if="!gSettings.ignore.invites.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.invites.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.invites.data">
                            <span :style="getRole(gSettings.ignore.invites.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.invites.data).cssColor">{{ getRole(gSettings.ignore.invites.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-inv-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'IIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'IIH-' + role.id" :value="role.id" v-model="gSettings.ignore.invites.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.invites.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-inv-dis' ? null : 'ign-inv-dis'">
                            <span v-if="!gSettings.ignore.invites.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.invites.data">{{ discordPermissionNames[gSettings.ignore.invites.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-inv-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'IID-' + permID">
                                <input type="radio" :id="'IID-' + permID" :value="permID" v-model="gSettings.ignore.invites.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.invites.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.invites.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('iil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.invites.data || gSettings.ignore.invites.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-inv-rolel' ? null : 'ign-inv-rolel'">
                            <span v-if="!temp.iil" class="role-icon">@</span>
                            <span v-if="!temp.iil">Choose a role...</span>
                            <div v-if="temp.iil">
                                <span :style="getRole(temp.iil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.iil).cssColor">{{ getRole(temp.iil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-inv-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'IIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'IIL-' + role.id" :value="role.id" v-model="temp.iil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('iil')" :disabled="!temp.iil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
        <div class="setting column" v-show="!gSettings.automod.allow_invites">
            <span class="key">Ignore invites in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.ignore.invitesChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('iic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.ignore.invitesChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'iic_chan' ? null : 'iic_chan'">
                        <span v-if="!temp.iic" class="channel-icon">#</span>
                        <span v-if="!temp.iic">Choose a channel...</span>
                        <div v-if="temp.iic">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.iic).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'iic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'IIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'IIC-' + chan.id" :value="chan.id" v-model="temp.i" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('i')" :disabled="!temp.i || gSettings.ignore.invitesChans.indexOf(temp.i) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <hr class="thin">
    <div class="columns">
        <div class="setting column">
            <span class="key">Allow selfbots:</span>
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.automod.selfbots">
                <span class="slider round"></span>
            </label>
            <span class="info">When someone uses a command on their selfbot and it is detected, the message <span :class="gSettings.automod.selfbots ? 'green' : 'red'">{{ gSettings.automod.selfbots ? 'will not' : 'will'}}</span> be removed and an automod violation <span :class="gSettings.automod.selfbots ? 'green' : 'red'">{{ gSettings.automod.selfbots ? 'will not' : 'will'}}</span> be issued.</span>
        </div>
        <div class="setting column" v-show="!gSettings.automod.selfbots">
            <span class="key">Ignore selfbots used by members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-sfb' ? null : 'ign-sfb'">
                        <div v-if="gSettings.ignore.selfbots.type && gSettings.ignore.selfbots.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.selfbots.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-sfb'" class="dd-content">
                    <label for="ign-sfb-0">
                        <input type="radio" id="ign-sfb-0" value="none" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>None</span>
                    </label>
                    <label for="ign-sfb-1">
                        <input type="radio" id="ign-sfb-1" value="role_hier" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label>
                    <label for="ign-sfb-2">
                        <input type="radio" id="ign-sfb-2" value="role_list" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label>
                    <label for="ign-sfb-3">
                        <input type="radio" id="ign-sfb-3" value="discord_perm" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.selfbots.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-roleh' ? null : 'ign-sfb-roleh'">
                        <span v-if="!gSettings.ignore.selfbots.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.selfbots.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.selfbots.data">
                            <span :style="getRole(gSettings.ignore.selfbots.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.selfbots.data).cssColor">{{ getRole(gSettings.ignore.selfbots.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-sfb-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'SBIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'SBIH-' + role.id" :value="role.id" v-model="gSettings.ignore.selfbots.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.selfbots.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-dis' ? null : 'ign-sfb-dis'">
                            <span v-if="!gSettings.ignore.selfbots.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.selfbots.data">{{ discordPermissionNames[gSettings.ignore.selfbots.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-sfb-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'SBID-' + permID">
                                <input type="radio" :id="'SBID-' + permID" :value="permID" v-model="gSettings.ignore.selfbots.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.selfbots.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.selfbots.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('sbil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.selfbots.data || gSettings.ignore.selfbots.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-rolel' ? null : 'ign-sfb-rolel'">
                            <span v-if="!temp.sbil" class="role-icon">@</span>
                            <span v-if="!temp.sbil">Choose a role...</span>
                            <div v-if="temp.sbil">
                                <span :style="getRole(temp.sbil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.sbil).cssColor">{{ getRole(temp.sbil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-sfb-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'SBIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'SBIL-' + role.id" :value="role.id" v-model="temp.sbil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('sbil')" :disabled="!temp.sbil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
        <div class="setting column" v-show="!gSettings.automod.selfbots">
            <span class="key">Ignore selfbots used in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.ignore.selfbotsChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('sbic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.ignore.selfbotsChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'sbic_chan' ? null : 'sbic_chan'">
                        <span v-if="!temp.sb" class="channel-icon">#</span>
                        <span v-if="!temp.sb">Choose a channel...</span>
                        <div v-if="temp.sb">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.sb).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'sbic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'SBIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'SBIC-' + chan.id" :value="chan.id" v-model="temp.sb" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('sb')" :disabled="!temp.sb || gSettings.ignore.selfbotsChans.indexOf(temp.sb) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <hr class="thin">
    <div class="columns">
        <div class="setting column">
            <span class="key">Maximum number of mentions:</span>
            <div class="time-setting">
                <span v-if="gSettings.automod.mentions !== 0">Mentioning more than </span><input type="number" placeholder="6" v-model.number="gSettings.automod.mentions"></input><span v-if="gSettings.automod.mentions !== 0"> users will lead to an automod violation.</span><span class="gray" v-else> No automod violations will be issued for mentioning too many users.</span>
            </div>
            <div class="time-setting">
                <span v-if="gSettings.automod['mention-ban'] !== 0">Mentioning more than </span><input type="number" placeholder="20" v-model.number="gSettings.automod['mention-ban']"></input><span v-if="gSettings.automod['mention-ban'] !== 0"> users will result in an automatic ban.</span><span class="gray" v-else> No bans will be issued for mentioning too many users.</span>
            </div>
            <span class="info">Set either of the above settings to 0 to disable them.</span>
        </div>
        <div class="setting column" v-show="gSettings.automod.mentions !== 0 || gSettings.automod['mention-ban'] !== 0">
            <span class="key">Ignore too many mentions from members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-ment' ? null : 'ign-ment'">
                        <div v-if="gSettings.ignore.mentions.type && gSettings.ignore.mentions.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.mentions.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-ment'" class="dd-content">
                    <label for="ign-ment-0">
                        <input type="radio" id="ign-ment-0" value="none" v-model="gSettings.ignore.mentions.type" class="hidden">
                        <span>None</span>
                    </label>
                    <label for="ign-ment-1">
                        <input type="radio" id="ign-ment-1" value="role_hier" v-model="gSettings.ignore.mentions.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label>
                    <label for="ign-ment-2">
                        <input type="radio" id="ign-ment-2" value="role_list" v-model="gSettings.ignore.mentions.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label>
                    <label for="ign-ment-3">
                        <input type="radio" id="ign-ment-3" value="discord_perm" v-model="gSettings.ignore.mentions.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.mentions.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-ment-roleh' ? null : 'ign-ment-roleh'">
                        <span v-if="!gSettings.ignore.mentions.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.mentions.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.mentions.data">
                            <span :style="getRole(gSettings.ignore.mentions.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.mentions.data).cssColor">{{ getRole(gSettings.ignore.mentions.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-ment-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'MIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'MIH-' + role.id" :value="role.id" v-model="gSettings.ignore.mentions.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.mentions.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-ment-dis' ? null : 'ign-ment-dis'">
                            <span v-if="!gSettings.ignore.mentions.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.mentions.data">{{ discordPermissionNames[gSettings.ignore.mentions.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-ment-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'MID-' + permID">
                                <input type="radio" :id="'MID-' + permID" :value="permID" v-model="gSettings.ignore.mentions.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.mentions.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.mentions.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('mil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.mentions.data || gSettings.ignore.mentions.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-ment-rolel' ? null : 'ign-ment-rolel'">
                            <span v-if="!temp.mil" class="role-icon">@</span>
                            <span v-if="!temp.mil">Choose a role...</span>
                            <div v-if="temp.mil">
                                <span :style="getRole(temp.mil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.mil).cssColor">{{ getRole(temp.mil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-ment-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'MIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'MIL-' + role.id" :value="role.id" v-model="temp.mil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('mil')" :disabled="!temp.mil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
        <div class="setting column" v-show="gSettings.automod.mentions !== 0 || gSettings.automod['mention-ban'] !== 0">
            <span class="key">Ignore mentions in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.ignore.mentionsChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('mic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.ignore.mentionsChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'mic_chan' ? null : 'mic_chan'">
                        <span v-if="!temp.m" class="channel-icon">#</span>
                        <span v-if="!temp.m">Choose a channel...</span>
                        <div v-if="temp.m">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.m).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'mic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'MIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'MIC-' + chan.id" :value="chan.id" v-model="temp.m" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('m')" :disabled="!temp.m || gSettings.ignore.mentionsChans.indexOf(temp.m) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <hr class="thin">
    <div class="columns">
        <div class="time-setting column">
            <span class="key">Spam threshold:</span>
            <input type="number" placeholder="6" v-model.number="gSettings.automod.spamCount">
            <span>messages/</span>
            <input type="number" placeholder="5s" v-model.number="gSettings.automod.spamTime">
            <span @click="automodSpamUnit()" class="blue" style="cursor: pointer;">{{ gSettings.automod.spamTimeUnits === 'ms' ? 'milliseconds' : gSettings.automod.spamTimeUnits === 'm' ? 'minutes' : 'seconds' }}</span>
            <span class="info" v-show="gSettings.automod.spamCount !== 0">When a user spams (sends <span class="yellow">{{ gSettings.automod.spamCount }}</span> messages in <span class="yellow">{{ gSettings.automod.spamTime }} {{ gSettings.automod.spamTimeUnits === 'ms' ? 'milliseconds' : gSettings.automod.spamTimeUnits === 'm' ? 'minutes' : 'seconds' }}</span>), an automod violation will be issued. Set the number of messages to 0 to disable. Click the units to toggle them (<span class="blue">milliseconds</span>, <span class="blue">seconds</span>, or <span class="blue">minutes</span>.)</span>
            <span class="info" v-show="gSettings.automod.spamCount === 0">Spam protection is disabled.</span>
        </div>
        <div class="setting column" v-show="gSettings.ignore.spamCount !== 0">
            <span class="key">Ignore spam from members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-spam' ? null : 'ign-spam'">
                        <div v-if="gSettings.ignore.spam.type && gSettings.ignore.spam.type !== 'none'">
                            <span>{{ ignorePermsTypes[gSettings.ignore.spam.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-spam'" class="dd-content">
                    <label for="ign-spam-0">
                        <input type="radio" id="ign-spam-0" value="none" v-model="gSettings.ignore.spam.type" class="hidden">
                        <span>None</span>
                    </label>
                    <label for="ign-spam-1">
                        <input type="radio" id="ign-spam-1" value="role_hier" v-model="gSettings.ignore.spam.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label>
                    <label for="ign-spam-2">
                        <input type="radio" id="ign-spam-2" value="role_list" v-model="gSettings.ignore.spam.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label>
                    <label for="ign-spam-3">
                        <input type="radio" id="ign-spam-3" value="discord_perm" v-model="gSettings.ignore.spam.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.spam.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-spam-roleh' ? null : 'ign-spam-roleh'">
                        <span v-if="!gSettings.ignore.spam.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.spam.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.spam.data">
                            <span :style="getRole(gSettings.ignore.spam.data).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.spam.data).cssColor">{{ getRole(gSettings.ignore.spam.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-spam-roleh'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'SIH-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'SIH-' + role.id" :value="role.id" v-model="gSettings.ignore.spam.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.spam.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-spam-dis' ? null : 'ign-spam-dis'">
                            <span v-if="!gSettings.ignore.spam.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.spam.data">{{ discordPermissionNames[gSettings.ignore.spam.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-spam-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'SID-' + permID">
                                <input type="radio" :id="'SID-' + permID" :value="permID" v-model="gSettings.ignore.spam.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.spam.type === 'role_list'">
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.spam.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="del('sil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.spam.data || gSettings.ignore.spam.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-spam-rolel' ? null : 'ign-spam-rolel'">
                            <span v-if="!temp.sil" class="role-icon">@</span>
                            <span v-if="!temp.sil">Choose a role...</span>
                            <div v-if="temp.sil">
                                <span :style="getRole(temp.sil).cssColor" class="role-icon">@</span>
                                <span :style="getRole(temp.sil).cssColor">{{ getRole(temp.sil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-spam-rolel'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'SIL-' + role.id" :class="role.managed ? 'managed disabled' : getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                                <input type="radio" :id="'SIL-' + role.id" :value="role.id" v-model="temp.sil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('sil')" :disabled="!temp.sil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
        <div class="setting column" v-show="gSettings.ignore.spamCount !== 0">
            <span class="key">Ignore spam in channels </span>
            <div class="guild box" v-for="(channelID) in gSettings.ignore.spamChans">
                <span class="channel-icon">#</span>
                <span>{{ getChannel(channelID).name }}</span>
                <a @click="del('sic', index)" class="remove"></a>
            </div>
            <div v-if="gSettings.ignore.spamChans.length === 0">
                <span class="gray"><i>None</i></span>
            </div>
            <br>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'sic_chan' ? null : 'sic_chan'">
                        <span v-if="!temp.s" class="channel-icon">#</span>
                        <span v-if="!temp.s">Choose a channel...</span>
                        <div v-if="temp.s">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.s).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'sic_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'SIC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'SIC-' + chan.id" :value="chan.id" v-model="temp.s" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('s')" :disabled="!temp.s || gSettings.ignore.mentionsChans.indexOf(temp.s) !== -1">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
    <hr class="thin">
    <div class="time-setting">
        <span class="key">Mute threshold:</span>
        <input type="number" placeholder="3" v-model.number="gSettings.automod.muteViolations">
        <span>violations/</span>
        <input type="number" placeholder="1m" v-model.number="gSettings.automod.muteTime">
        <span @click="automodMuteUnit()" class="blue" style="cursor: pointer;">{{ gSettings.automod.muteTimeUnits === 's' ? 'seconds' : gSettings.automod.muteTimeUnits === 'h' ? 'hours' : 'minutes' }}</span>
        <span class="info">When a user receives <span class="yellow">{{ gSettings.automod.muteViolations }}</span> automod violations in <span class="yellow">{{ gSettings.automod.muteTime }} {{ gSettings.automod.muteTimeUnits === 's' ? 'seconds' : gSettings.automod.muteTimeUnits === 'h' ? 'hours' : 'minutes' }}</span>, they will be muted. Click the units to toggle them (<span class="blue">seconds</span>, <span class="blue">minutes</span>, or <span class="blue">hours</span>.)</span>
    </div>
    <hr class="thin">
    <div class="setting" v-show="!gSettings.automod.allow_invites">
        <span class="key">Server invite whitelist:</span>
        <div class="columns">
            <div class="column is-three-quarters">
                <div v-if="gSettings.automod.invite_whitelist">
                    <div v-for="(thing, index) in gSettings.automod.invite_whitelist" class="guild box">
                        <span v-if="thing.length >= 17"><span class="green">Server ID: </span>{{ thing }}</span><span v-else><span class="blue">Code: </span><a :href="'https://discord.gg/' + thing" target="_blank">https://discord.gg/{{ thing }}</a></span>
                        <a class="remove" @click="del('whitelist', index)"></a>
                    </div>
                </div>
                <span class="gray" v-show="!gSettings.automod.invite_whitelist || gSettings.automod.invite_whitelist.length === 0">No servers/invite codes are whitelisted.</span>
            </div>
            <div class="column">
                <span class="key">Invite code:</span>
                <input type="text" v-model="temp.whitelist_code" placeholder="99xaeGn">
                <button class="button add" @click="add('whitelist_code')" :disabled="!temp.whitelist_code || temp.whitelist_code.length < 2 || gSettings.automod.invite_whitelist.indexOf(temp.whitelist_code) !== -1">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
                <br>
                <span class="key">Server ID:</span>
                <input type="text" v-model="temp.whitelist_id" placeholder="353660669490626560" style="min-width: 170px;">
                <button class="button add" @click="add('whitelist_id')" :disabled="!temp.whitelist_id || temp.whitelist_id.length < 17 || temp.whitelist_id.length > 20 || temp.whitelist_id.match(/\D/) || gSettings.automod.invite_whitelist.indexOf(temp.whitelist_id) !== -1">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
        <span class="info">Whitelist a server so that users can post invites to it even though posting invites is not allowed. If you use the server ID, all invite codes to that server will be allowed as long as only one invite is sent in the message. If you whitelist a specific invite code, it will always be allowed.</span>
    </div>
</div><div id="perms" v-if="selectedGuildID && column === 'perms' && !loading">
    <div class="header">
        <span class="bold">Permissions</span>
        <hr>
    </div>
    <div class="setting">
        <span class="key">Edit permissions for command group: </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'perms-group-temp' ? null : 'perms-group-temp'">
                    <div v-if="temp.perms_group">
                        <span>{{ groupNames[temp.perms_group] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'perms-group-temp'" class="dd-content">
                <div v-for="(data, group) in commandList"><label :for="'perms-group-temp-' + group">
                    <input type="radio" :id="'perms-group-temp-' + group" :value="group" v-model="temp.perms_group" class="hidden">
                    <span>{{ groupNames[group] }}</span>
                </label></div>
            </div>
        </div>
        <span class="key spacer"></span>
        <button v-show="temp.perms_group" class="button is-danger" @click="clearPerms(temp.perms_group)">Clear perms for all {{ groupNames[temp.perms_group] }} commands</button>
    </div>
    <div class="columns">
        <div class="column">
            <table v-for="(data, group) in commandList" class="table skinny-table" v-if="group === temp.perms_group"><tbody>
                <tr>
                    <th>{{ groupNames[group] }}</th>
                    <th><span class="gray" v-if="gSettings.groupStatus[group] === false">
                        Group is disabled.
                    </span><div v-else>
                        <div class="dd">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-perms' ? null : group + '-perms'">
                                    <div v-if="gSettings.gperms[group].type && gSettings.gperms[group].type !== 'none'">
                                        <span>{{ ignorePermsTypes[gSettings.gperms[group].type] }}</span>
                                    </div>
                                    <span v-else>None</span>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-perms'" class="dd-content">
                                <div><label :for="group + '-perms-0'">
                                    <input type="radio" :id="group + '-perms-0'" value="none" v-model="gSettings.gperms[group].type" class="hidden">
                                    <span>None</span>
                                </label></div>
                                <div><label :for="group + '-perms-1'">
                                    <input type="radio" :id="group + '-perms-1'" value="role_hier" v-model="gSettings.gperms[group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_hier }}</span>
                                </label></div>
                                <div><label :for="group + '-perms-2'">
                                    <input type="radio" :id="group + '-perms-2'" value="role_list" v-model="gSettings.gperms[group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_list }}</span>
                                </label></div>
                                <div><label :for="group + '-perms-3'">
                                    <input type="radio" :id="group + '-perms-3'" value="discord_perm" v-model="gSettings.gperms[group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                                </label></div>
                            </div>
                        </div>
                        <span class="key">: </span>
                        <div class="dd" v-if="gSettings.gperms[group].type === 'role_hier'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-perms-roleh' ? null : group + '-perms-roleh'">
                                    <span v-if="!gSettings.gperms[group].data" class="role-icon">@</span>
                                    <span v-if="!gSettings.gperms[group].data">Choose a role...</span>
                                    <div v-if="gSettings.gperms[group].data">
                                        <span :style="getRole(gSettings.gperms[group].data).cssColor" class="role-icon">@</span>
                                        <span :style="getRole(gSettings.gperms[group].data).cssColor">{{ getRole(gSettings.gperms[group].data).name }}</span>
                                    </div>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-perms-roleh'" class="dd-content">
                                <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                    <label :for="group + '-PH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                        <input type="radio" :id="group + '-PH-' + role.id" :value="role.id" v-model="gSettings.gperms[group].data" class="hidden">
                                        <span :style="role.cssColor" class="role-icon">@</span>
                                        <span :style="role.cssColor">{{ role.name }}</span>
                                    </label>
                                </div>
                                <div v-if="gRoles.length === 0">
                                    <span class="gray">No eligible roles.</span>
                                </div>
                            </div>
                        </div>
                        <div class="dd" v-else-if="gSettings.gperms[group].type === 'discord_perm'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-perms-dis' ? null : group + '-perms-dis'">
                                    <span v-if="!gSettings.gperms[group].data">Choose a Discord permission...</span>
                                    <div v-if="gSettings.gperms[group].data">{{ discordPermissionNames[gSettings.gperms[group].data] }}</div>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-perms-dis'" class="dd-content">
                                <div v-for="(permName, permID) in discordPermissionNames">
                                    <label :for="group + '-PD-' + permID">
                                        <input type="radio" :id="group + '-PD-' + permID" :value="permID" v-model="gSettings.gperms[group].data" class="hidden">
                                        <span>{{ permName }}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <span v-else-if="gSettings.gperms[group].type === 'role_list'">
                            <div class="guild box" v-for="(roleID, index) in gSettings.gperms[group].data">
                                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                                <a @click="del('perms', index, group, false)" class="remove"></a>
                            </div>
                            <div v-if="!gSettings.gperms[group].data || gSettings.gperms[group].data.length === 0">
                                <span class="gray">No roles selected.</span>
                            </div>
                            <span class="key">Add a role:</span>
                            <div class="dd">
                                <div class="dd-trigger">
                                    <button class="button" @click="openDropdown = openDropdown === group + '-perms-rolel' ? null : group + '-perms-rolel'">
                                        <span v-if="!temp['pl-' + group]" class="role-icon">@</span>
                                        <span v-if="!temp['pl-' + group]">Choose a role...</span>
                                        <div v-if="temp['pl-' + group]">
                                            <span :style="getRole(temp['pl-' + group]).cssColor" class="role-icon">@</span>
                                            <span :style="getRole(temp['pl-' + group]).cssColor">{{ getRole(temp['pl-' + group]).name }}</span>
                                        </div>
                                    </button>
                                </div>
                                <div v-show="openDropdown === group + '-perms-rolel'" class="dd-content">
                                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                        <label :for="group + '-PL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                            <input type="radio" :id="group + '-PL-' + role.id" :value="role.id" v-model="temp['pl-' + group]" class="hidden">
                                            <span :style="role.cssColor" class="role-icon">@</span>
                                            <span :style="role.cssColor">{{ role.name }}</span>
                                        </label>
                                    </div>
                                    <div v-if="gRoles.length === 0">
                                        <span class="gray">No eligible roles.</span>
                                    </div>
                                </div>
                            </div>
                            <button class="button add" @click="add('perms', group, false)" :disabled="!temp['pl-' + group]">
                                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                            </button>
                        </span>
                    </div></th>
                </tr>
                <tr v-for="(aliases, command) in data" v-show="gSettings.groupStatus[group]">
                    <td><span class="code">{{ (gSettings.prefix || ';')+command }}</span></td>
                    <td><span class="gray" v-if="command === 'nsfwagree'">
                        Command is DM-only.
                    </span><span class="gray" v-else-if="gSettings.commandStatus[command] === false">
                        Command is disabled.
                    </span><span v-else-if="shortcutMap[command]">
                        See <span class="code">{{ (gSettings.prefix || ';')+shortcutMap[command] }}</span>.
                    </span><div v-else>
                        <div class="dd">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-perms' ? null : command + '-perms'">
                                    <div v-if="gSettings.perms[command].type && gSettings.perms[command].type !== 'none'">
                                        <span>{{ ignorePermsTypes[gSettings.perms[command].type] }}</span>
                                    </div>
                                    <span v-else>None</span>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-perms'" class="dd-content">
                                <div><label :for="command + '-perms-0'">
                                    <input type="radio" :id="command + '-perms-0'" value="none" v-model="gSettings.perms[command].type" class="hidden">
                                    <span>None</span>
                                </label></div>
                                <div><label :for="command + '-perms-1'">
                                    <input type="radio" :id="command + '-perms-1'" value="role_hier" v-model="gSettings.perms[command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_hier }}</span>
                                </label></div>
                                <div><label :for="command + '-perms-2'">
                                    <input type="radio" :id="command + '-perms-2'" value="role_list" v-model="gSettings.perms[command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_list }}</span>
                                </label></div>
                                <div><label :for="command + '-perms-3'">
                                    <input type="radio" :id="command + '-perms-3'" value="discord_perm" v-model="gSettings.perms[command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                                </label></div>
                            </div>
                        </div>
                        <span class="key">: </span>
                        <div class="dd" v-if="gSettings.perms[command].type === 'role_hier'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-perms-roleh' ? null : command + '-perms-roleh'">
                                    <span v-if="!gSettings.perms[command].data" class="role-icon">@</span>
                                    <span v-if="!gSettings.perms[command].data">Choose a role...</span>
                                    <div v-if="gSettings.perms[command].data">
                                        <span :style="getRole(gSettings.perms[command].data).cssColor" class="role-icon">@</span>
                                        <span :style="getRole(gSettings.perms[command].data).cssColor">{{ getRole(gSettings.perms[command].data).name }}</span>
                                    </div>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-perms-roleh'" class="dd-content">
                                <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                    <label :for="command + '-PH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                        <input type="radio" :id="command + '-PH-' + role.id" :value="role.id" v-model="gSettings.perms[command].data" class="hidden">
                                        <span :style="role.cssColor" class="role-icon">@</span>
                                        <span :style="role.cssColor">{{ role.name }}</span>
                                    </label>
                                </div>
                                <div v-if="gRoles.length === 0">
                                    <span class="gray">No eligible roles.</span>
                                </div>
                            </div>
                        </div>
                        <div class="dd" v-else-if="gSettings.perms[command].type === 'discord_perm'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-perms-dis' ? null : command + '-perms-dis'">
                                    <span v-if="!gSettings.perms[command].data">Choose a Discord permission...</span>
                                    <div v-if="gSettings.perms[command].data">{{ discordPermissionNames[gSettings.perms[command].data] }}</div>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-perms-dis'" class="dd-content">
                                <div v-for="(permName, permID) in discordPermissionNames">
                                    <label :for="command + '-PD-' + permID">
                                        <input type="radio" :id="command + '-PD-' + permID" :value="permID" v-model="gSettings.perms[command].data" class="hidden">
                                        <span>{{ permName }}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <span v-else-if="gSettings.perms[command].type === 'role_list'">
                            <div class="guild box" v-for="(roleID, index) in gSettings.perms[command].data">
                                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                                <a @click="del('perms', index, command, true)" class="remove"></a>
                            </div>
                            <div v-if="!gSettings.perms[command].data || gSettings.perms[command].data.length === 0">
                                <span class="gray">No roles selected.</span>
                            </div>
                            <span class="key">Add a role:</span>
                            <div class="dd">
                                <div class="dd-trigger">
                                    <button class="button" @click="openDropdown = openDropdown === command + '-perms-rolel' ? null : command + '-perms-rolel'">
                                        <span v-if="!temp['pl-' + command]" class="role-icon">@</span>
                                        <span v-if="!temp['pl-' + command]">Choose a role...</span>
                                        <div v-if="temp['pl-' + command]">
                                            <span :style="getRole(temp['pl-' + command]).cssColor" class="role-icon">@</span>
                                            <span :style="getRole(temp['pl-' + command]).cssColor">{{ getRole(temp['pl-' + command]).name }}</span>
                                        </div>
                                    </button>
                                </div>
                                <div v-show="openDropdown === command + '-perms-rolel'" class="dd-content">
                                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                        <label :for="command + '-PL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                            <input type="radio" :id="command + '-PL-' + role.id" :value="role.id" v-model="temp['pl-' + command]" class="hidden">
                                            <span :style="role.cssColor" class="role-icon">@</span>
                                            <span :style="role.cssColor">{{ role.name }}</span>
                                        </label>
                                    </div>
                                    <div v-if="gRoles.length === 0">
                                        <span class="gray">No eligible roles.</span>
                                    </div>
                                </div>
                            </div>
                            <button class="button add" @click="add('perms', command, true)" :disabled="!temp['pl-' + command]">
                                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                            </button>
                        </span>
                        <span class="gray" v-else-if="gSettings.gperms[group].type && gSettings.gperms[group].type !== 'none'">Inherit from group</span>
                        <span class="gray" v-else>Default: {{ defaultPerms[command] ? discordPermissionNames[defaultPerms[command]] : 'open to everyone' }}</span>
                    </div></td>
                </tr>
            </tbody></table>
            <span class="gray" v-if="!temp.perms_group">Select a group to start editing permissions.</span>
        </div>
        <div class="column">
            <div class="setting">
                <span class="key title is-5">Special permissions</span>
                <br><br>
                <span class="key">External guild info:</span>
                <span class="info margin-bottom-5">Specifies who can use <span class="code">{{ gSettings.prefix || ';'}}info</span> to see information about other servers.</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-extgi' ? null : 'perms-extgi'">
                            <div v-if="gSettings.perms.external_guild_info.type && gSettings.perms.external_guild_info.type !== 'none'">
                                <span>{{ ignorePermsTypes[gSettings.perms.external_guild_info.type] }}</span>
                            </div>
                            <span v-else>None</span>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-extgi'" class="dd-content">
                        <div><label for="perms-extgi-0">
                            <input type="radio" id="perms-extgi-0" value="none" v-model="gSettings.perms.external_guild_info.type" class="hidden">
                            <span>None</span>
                        </label></div>
                        <div><label for="perms-extgi-1">
                            <input type="radio" id="perms-extgi-1" value="role_hier" v-model="gSettings.perms.external_guild_info.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_hier }}</span>
                        </label></div>
                        <div><label for="perms-extgi-2">
                            <input type="radio" id="perms-extgi-2" value="role_list" v-model="gSettings.perms.external_guild_info.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_list }}</span>
                        </label></div>
                        <div><label for="perms-extgi-3">
                            <input type="radio" id="perms-extgi-3" value="discord_perm" v-model="gSettings.perms.external_guild_info.type" class="hidden">
                            <span>{{ ignorePermsTypes.discord_perm }}</span>
                        </label></div>
                    </div>
                </div>
                <span class="key">: </span>
                <div class="dd" v-if="gSettings.perms.external_guild_info.type === 'role_hier'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-extgi-roleh' ? null : 'perms-extgi-roleh'">
                            <span v-if="!gSettings.perms.external_guild_info.data" class="role-icon">@</span>
                            <span v-if="!gSettings.perms.external_guild_info.data">Choose a role...</span>
                            <div v-if="gSettings.perms.external_guild_info.data">
                                <span :style="getRole(gSettings.perms.external_guild_info.data).cssColor" class="role-icon">@</span>
                                <span :style="getRole(gSettings.perms.external_guild_info.data).cssColor">{{ getRole(gSettings.perms.external_guild_info.data).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-extgi-roleh'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'PEXH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                <input type="radio" :id="'PEXH-' + role.id" :value="role.id" v-model="gSettings.perms.external_guild_info.data" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <div class="dd" v-else-if="gSettings.perms.external_guild_info.type === 'discord_perm'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-extgi-dis' ? null : 'perms-extgi-dis'">
                            <span v-if="!gSettings.perms.external_guild_info.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.perms.external_guild_info.data">{{ discordPermissionNames[gSettings.perms.external_guild_info.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-extgi-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'PEXD-' + permID">
                                <input type="radio" :id="'PEXD-' + permID" :value="permID" v-model="gSettings.perms.external_guild_info.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <span v-else-if="gSettings.perms.external_guild_info.type === 'role_list'">
                    <div class="guild box" v-for="(roleID, index) in gSettings.perms.external_guild_info.data">
                        <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                        <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                        <a @click="del('perms', index, 'external_guild_info', 'pl_extgi')" class="remove"></a>
                    </div>
                    <div v-if="!gSettings.perms.external_guild_info.data || gSettings.perms.external_guild_info.data.length === 0">
                        <span class="gray">No roles selected.</span>
                    </div>
                    <br v-else>
                    <span class="key">Add a role:</span>
                    <div class="dd">
                        <div class="dd-trigger">
                            <button class="button" @click="openDropdown = openDropdown === 'perms-extgi-rolel' ? null : 'perms-extgi-rolel'">
                                <span v-if="!temp.pl_extgi" class="role-icon">@</span>
                                <span v-if="!temp.pl_extgi">Choose a role...</span>
                                <div v-if="temp.pl_extgi">
                                    <span :style="getRole(temp.pl_extgi).cssColor" class="role-icon">@</span>
                                    <span :style="getRole(temp.pl_extgi).cssColor">{{ getRole(temp.pl_extgi).name }}</span>
                                </div>
                            </button>
                        </div>
                        <div v-show="openDropdown === 'perms-extgi-rolel'" class="dd-content">
                            <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                <label :for="'PEXL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                    <input type="radio" :id="'PEXL-' + role.id" :value="role.id" v-model="temp.pl_extgi" class="hidden">
                                    <span :style="role.cssColor" class="role-icon">@</span>
                                    <span :style="role.cssColor">{{ role.name }}</span>
                                </label>
                            </div>
                            <div v-if="gRoles.length === 0">
                                <span class="gray">No eligible roles.</span>
                            </div>
                        </div>
                    </div>
                    <button class="button add" @click="add('perms', 'external_guild_info', 'pl_extgi')" :disabled="!temp.pl_extgi">
                        <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                    </button>
                </span>
                <span class="gray" v-else>Default: {{ discordPermissionNames.MANAGE_MESSAGES }}</span>
            </div>
            <br><br>
            <div class="setting">
                <span class="key">Use tags:</span>
                <span class="info margin-bottom-5">Specifies who can use tags created by <span class="code">{{ gSettings.prefix || ';'}}tag</span>.</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-usetags' ? null : 'perms-usetags'">
                            <div v-if="gSettings.perms.use_tags.type && gSettings.perms.use_tags.type !== 'none'">
                                <span>{{ ignorePermsTypes[gSettings.perms.use_tags.type] }}</span>
                            </div>
                            <span v-else>None</span>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-usetags'" class="dd-content">
                        <div><label for="perms-usetags-0">
                            <input type="radio" id="perms-usetags-0" value="none" v-model="gSettings.perms.use_tags.type" class="hidden">
                            <span>None</span>
                        </label></div>
                        <div><label for="perms-usetags-1">
                            <input type="radio" id="perms-usetags-1" value="role_hier" v-model="gSettings.perms.use_tags.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_hier }}</span>
                        </label></div>
                        <div><label for="perms-usetags-2">
                            <input type="radio" id="perms-usetags-2" value="role_list" v-model="gSettings.perms.use_tags.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_list }}</span>
                        </label></div>
                        <div><label for="perms-usetags-3">
                            <input type="radio" id="perms-usetags-3" value="discord_perm" v-model="gSettings.perms.use_tags.type" class="hidden">
                            <span>{{ ignorePermsTypes.discord_perm }}</span>
                        </label></div>
                    </div>
                </div>
                <span class="key">: </span>
                <div class="dd" v-if="gSettings.perms.use_tags.type === 'role_hier'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-usetags-roleh' ? null : 'perms-usetags-roleh'">
                            <span v-if="!gSettings.perms.use_tags.data" class="role-icon">@</span>
                            <span v-if="!gSettings.perms.use_tags.data">Choose a role...</span>
                            <div v-if="gSettings.perms.use_tags.data">
                                <span :style="getRole(gSettings.perms.use_tags.data).cssColor" class="role-icon">@</span>
                                <span :style="getRole(gSettings.perms.use_tags.data).cssColor">{{ getRole(gSettings.perms.use_tags.data).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-usetags-roleh'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'PUTH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                <input type="radio" :id="'PUTH-' + role.id" :value="role.id" v-model="gSettings.perms.use_tags.data" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <div class="dd" v-else-if="gSettings.perms.use_tags.type === 'discord_perm'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-usetags-dis' ? null : 'perms-usetags-dis'">
                            <span v-if="!gSettings.perms.use_tags.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.perms.use_tags.data">{{ discordPermissionNames[gSettings.perms.use_tags.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-usetags-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'PUTD-' + permID">
                                <input type="radio" :id="'PUTD-' + permID" :value="permID" v-model="gSettings.perms.use_tags.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <span v-else-if="gSettings.perms.use_tags.type === 'role_list'">
                    <div class="guild box" v-for="(roleID, index) in gSettings.perms.use_tags.data">
                        <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                        <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                        <a @click="del('perms', index, 'use_tags', true)" class="remove"></a>
                    </div>
                    <div v-if="!gSettings.perms.use_tags.data || gSettings.perms.use_tags.data.length === 0">
                        <span class="gray">No roles selected.</span>
                    </div>
                    <br v-else>
                    <span class="key">Add a role:</span>
                    <div class="dd">
                        <div class="dd-trigger">
                            <button class="button" @click="openDropdown = openDropdown === 'perms-usetags-rolel' ? null : 'perms-usetags-rolel'">
                                <span v-if="!temp.pl_usetags" class="role-icon">@</span>
                                <span v-if="!temp.pl_usetags">Choose a role...</span>
                                <div v-if="temp.pl_usetags">
                                    <span :style="getRole(temp.pl_usetags).cssColor" class="role-icon">@</span>
                                    <span :style="getRole(temp.pl_usetags).cssColor">{{ getRole(temp.pl_usetags).name }}</span>
                                </div>
                            </button>
                        </div>
                        <div v-show="openDropdown === 'perms-usetags-rolel'" class="dd-content">
                            <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                <label :for="'PUTL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                    <input type="radio" :id="'PUTL-' + role.id" :value="role.id" v-model="temp.pl_usetags" class="hidden">
                                    <span :style="role.cssColor" class="role-icon">@</span>
                                    <span :style="role.cssColor">{{ role.name }}</span>
                                </label>
                            </div>
                            <div v-if="gRoles.length === 0">
                                <span class="gray">No eligible roles.</span>
                            </div>
                        </div>
                    </div>
                    <button class="button add" @click="add('perms', 'use_tags', 'pl_usetags')" :disabled="!temp.pl_usetags">
                        <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                    </button>
                </span>
                <span class="gray" v-else>Default: open to everyone</span>
            </div>
            <br><br>
            <div class="setting">
                <span class="key">Tag list:</span>
                <span class="info margin-bottom-5">Specifies who can use <span class="code">{{ gSettings.prefix || ';'}}tag list</span> to see all of the server's tags.</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-taglist' ? null : 'perms-taglist'">
                            <div v-if="gSettings.perms.tag_list.type && gSettings.perms.tag_list.type !== 'none'">
                                <span>{{ ignorePermsTypes[gSettings.perms.tag_list.type] }}</span>
                            </div>
                            <span v-else>None</span>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-taglist'" class="dd-content">
                        <div><label for="perms-taglist-0">
                            <input type="radio" id="perms-taglist-0" value="none" v-model="gSettings.perms.tag_list.type" class="hidden">
                            <span>None</span>
                        </label></div>
                        <div><label for="perms-taglist-1">
                            <input type="radio" id="perms-taglist-1" value="role_hier" v-model="gSettings.perms.tag_list.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_hier }}</span>
                        </label></div>
                        <div><label for="perms-taglist-2">
                            <input type="radio" id="perms-taglist-2" value="role_list" v-model="gSettings.perms.tag_list.type" class="hidden">
                            <span>{{ ignorePermsTypes.role_list }}</span>
                        </label></div>
                        <div><label for="perms-taglist-3">
                            <input type="radio" id="perms-taglist-3" value="discord_perm" v-model="gSettings.perms.tag_list.type" class="hidden">
                            <span>{{ ignorePermsTypes.discord_perm }}</span>
                        </label></div>
                    </div>
                </div>
                <span class="key">: </span>
                <div class="dd" v-if="gSettings.perms.tag_list.type === 'role_hier'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-taglist-roleh' ? null : 'perms-taglist-roleh'">
                            <span v-if="!gSettings.perms.tag_list.data" class="role-icon">@</span>
                            <span v-if="!gSettings.perms.tag_list.data">Choose a role...</span>
                            <div v-if="gSettings.perms.tag_list.data">
                                <span :style="getRole(gSettings.perms.tag_list.data).cssColor" class="role-icon">@</span>
                                <span :style="getRole(gSettings.perms.tag_list.data).cssColor">{{ getRole(gSettings.perms.tag_list.data).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-taglist-roleh'" class="dd-content">
                        <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                            <label :for="'PTLH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                <input type="radio" :id="'PTLH-' + role.id" :value="role.id" v-model="gSettings.perms.tag_list.data" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <div class="dd" v-else-if="gSettings.perms.tag_list.type === 'discord_perm'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'perms-taglist-dis' ? null : 'perms-taglist-dis'">
                            <span v-if="!gSettings.perms.tag_list.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.perms.tag_list.data">{{ discordPermissionNames[gSettings.perms.tag_list.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'perms-taglist-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'PTLD-' + permID">
                                <input type="radio" :id="'PTLD-' + permID" :value="permID" v-model="gSettings.perms.tag_list.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                        </div>
                    </div>
                </div>
                <span v-else-if="gSettings.perms.tag_list.type === 'role_list'">
                    <div class="guild box" v-for="(roleID, index) in gSettings.perms.tag_list.data">
                        <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                        <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                        <a @click="del('perms', index, 'tag_list', 'pl_taglist')" class="remove"></a>
                    </div>
                    <div v-if="!gSettings.perms.tag_list.data || gSettings.perms.tag_list.data.length === 0">
                        <span class="gray">No roles selected.</span>
                    </div>
                    <br v-else>
                    <span class="key">Add a role:</span>
                    <div class="dd">
                        <div class="dd-trigger">
                            <button class="button" @click="openDropdown = openDropdown === 'perms-taglist-rolel' ? null : 'perms-taglist-rolel'">
                                <span v-if="!temp.pl_taglist" class="role-icon">@</span>
                                <span v-if="!temp.pl_taglist">Choose a role...</span>
                                <div v-if="temp.pl_taglist">
                                    <span :style="getRole(temp.pl_taglist).cssColor" class="role-icon">@</span>
                                    <span :style="getRole(temp.pl_taglist).cssColor">{{ getRole(temp.pl_taglist).name }}</span>
                                </div>
                            </button>
                        </div>
                        <div v-show="openDropdown === 'perms-taglist-rolel'" class="dd-content">
                            <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                <label :for="'PTLL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                    <input type="radio" :id="'PTLL-' + role.id" :value="role.id" v-model="temp.pl_taglist" class="hidden">
                                    <span :style="role.cssColor" class="role-icon">@</span>
                                    <span :style="role.cssColor">{{ role.name }}</span>
                                </label>
                            </div>
                            <div v-if="gRoles.length === 0">
                                <span class="gray">No eligible roles.</span>
                            </div>
                        </div>
                    </div>
                    <button class="button add" @click="add('perms', 'tag_list', 'pl_taglist')" :disabled="!temp.pl_taglist">
                        <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                    </button>
                </span>
                <span class="gray" v-else>Default: open to everyone</span>
            </div>
        </div>
    </div>
</div><div id="cperms" v-if="selectedGuildID && column === 'cperms' && !loading">
    <div class="header">
        <span class="bold">Channel Permissions</span>
        <hr>
    </div>
    <div class="setting">
        <span class="key">Edit permissions for channel: </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'cperms-chan-temp' ? null : 'cperms-chan-temp'">
                    <span v-if="!temp.cperms_chan" class="channel-icon">#</span>
                    <span v-if="!temp.cperms_chan">Choose a channel...</span>
                    <div v-if="temp.cperms_chan">
                        <span class="channel-icon">#</span>
                        <span>{{ getChannel(temp.cperms_chan).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'cperms-chan-temp'" class="dd-content">
                <div v-for="chan in gChannels" v-show="temp.cperms_chan !== chan.id">
                    <label :for="'CP-' + chan.id" v-if="chan.type === 0">
                        <input type="radio" :id="'CP-' + chan.id" :value="chan.id" v-model="temp.cperms_chan" class="hidden">
                        <span class="channel-icon">#</span>
                        <span>{{ chan.name }}</span>
                    </label>
                    <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                </div>
                <div v-if="gChannels.length === 0">
                    <span class="gray">No eligible channels.</span>
                </div>
            </div>
        </div>
        <span class="key spacer"></span>
        <button v-show="temp.cperms_group && temp.cperms_chan" class="button is-danger" @click="clearPerms(temp.cperms_group, temp.cperms_chan)">Clear perms for all {{ groupNames[temp.cperms_group] }} commands in #{{ getChannel(temp.cperms_chan).name }}</button>
    </div>
    <div class="setting">
        <span class="key">For command group: </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'cperms-group-temp' ? null : 'cperms-group-temp'">
                    <div v-if="temp.cperms_group">
                        <span>{{ groupNames[temp.cperms_group] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'cperms-group-temp'" class="dd-content">
                <div v-for="(data, group) in commandList"><label :for="'cperms-group-temp-' + group">
                    <input type="radio" :id="'cperms-group-temp-' + group" :value="group" v-model="temp.cperms_group" class="hidden">
                    <span>{{ groupNames[group] }}</span>
                </label></div>
            </div>
        </div>
        <!-- TODO: broken
        <span class="key spacer"></span>
        <button v-show="temp.cperms_group" class="button is-danger" @click="clearPerms(temp.cperms_group, true)">Clear perms for all {{ groupNames[temp.cperms_group] }} commands in all channels</button> -->
    </div>
    <div class="columns" v-if="temp.cperms_chan">
        <div class="column">
            <table v-for="(data, group) in commandList" class="table skinny-table" v-if="group === temp.cperms_group"><tbody>
                <tr>
                    <th>{{ groupNames[group] }}</th>
                    <th><span class="gray" v-if="gSettings.groupStatus[group] === false">
                        Group is disabled.
                    </span><div v-else>
                        <div class="dd">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-cperms' ? null : group + '-cperms'">
                                    <div v-if="gSettings.cperms.gperms[temp.cperms_chan][group].type && gSettings.cperms.gperms[temp.cperms_chan][group].type !== 'none'">
                                        <span>{{ ignorePermsTypes[gSettings.cperms.gperms[temp.cperms_chan][group].type] }}</span>
                                    </div>
                                    <span v-else>None</span>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-cperms'" class="dd-content">
                                <div><label :for="group + '-cperms-0'">
                                    <input type="radio" :id="group + '-cperms-0'" value="none" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].type" class="hidden">
                                    <span>None</span>
                                </label></div>
                                <div><label :for="group + '-cperms-1'">
                                    <input type="radio" :id="group + '-cperms-1'" value="role_hier" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_hier }}</span>
                                </label></div>
                                <div><label :for="group + '-cperms-2'">
                                    <input type="radio" :id="group + '-cperms-2'" value="role_list" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_list }}</span>
                                </label></div>
                                <div><label :for="group + '-cperms-3'">
                                    <input type="radio" :id="group + '-cperms-3'" value="discord_perm" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].type" class="hidden">
                                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                                </label></div>
                            </div>
                        </div>
                        <span class="key">: </span>
                        <div class="dd" v-if="gSettings.cperms.gperms[temp.cperms_chan][group].type === 'role_hier'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-cperms-roleh' ? null : group + '-cperms-roleh'">
                                    <span v-if="!gSettings.cperms.gperms[temp.cperms_chan][group].data" class="role-icon">@</span>
                                    <span v-if="!gSettings.cperms.gperms[temp.cperms_chan][group].data">Choose a role...</span>
                                    <div v-if="gSettings.cperms.gperms[temp.cperms_chan][group].data">
                                        <span :style="getRole(gSettings.cperms.gperms[temp.cperms_chan][group].data).cssColor" class="role-icon">@</span>
                                        <span :style="getRole(gSettings.cperms.gperms[temp.cperms_chan][group].data).cssColor">{{ getRole(gSettings.cperms.gperms[temp.cperms_chan][group].data).name }}</span>
                                    </div>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-cperms-roleh'" class="dd-content">
                                <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                    <label :for="group + '-CP-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                        <input type="radio" :id="group + '-CP-' + role.id" :value="role.id" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].data" class="hidden">
                                        <span :style="role.cssColor" class="role-icon">@</span>
                                        <span :style="role.cssColor">{{ role.name }}</span>
                                    </label>
                                </div>
                                <div v-if="gRoles.length === 0">
                                    <span class="gray">No eligible roles.</span>
                                </div>
                            </div>
                        </div>
                        <div class="dd" v-else-if="gSettings.cperms.gperms[temp.cperms_chan][group].type === 'discord_perm'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === group + '-cperms-dis' ? null : group + '-cperms-dis'">
                                    <span v-if="!gSettings.cperms.gperms[temp.cperms_chan][group].data">Choose a Discord permission...</span>
                                    <div v-if="gSettings.cperms.gperms[temp.cperms_chan][group].data">{{ discordPermissionNames[gSettings.cperms.gperms[temp.cperms_chan][group].data] }}</div>
                                </button>
                            </div>
                            <div v-show="openDropdown === group + '-cperms-dis'" class="dd-content">
                                <div v-for="(permName, permID) in discordPermissionNames">
                                    <label :for="group + '-CP-' + permID">
                                        <input type="radio" :id="group + '-CP-' + permID" :value="permID" v-model="gSettings.cperms.gperms[temp.cperms_chan][group].data" class="hidden">
                                        <span>{{ permName }}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <span v-else-if="gSettings.cperms.gperms[temp.cperms_chan][group].type === 'role_list'">
                            <div class="guild box" v-for="(roleID, index) in gSettings.cperms.gperms[temp.cperms_chan][group].data">
                                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                                <a @click="del('cperms', index, group, false)" class="remove"></a>
                            </div>
                            <div v-if="!gSettings.cperms.gperms[temp.cperms_chan][group].data || gSettings.cperms.gperms[temp.cperms_chan][group].data.length === 0">
                                <span class="gray">No roles selected.</span>
                            </div>
                            <span class="key">Add a role:</span>
                            <div class="dd">
                                <div class="dd-trigger">
                                    <button class="button" @click="openDropdown = openDropdown === group + '-cperms-rolel' ? null : group + '-cperms-rolel'">
                                        <span v-if="!temp['cp-' + group]" class="role-icon">@</span>
                                        <span v-if="!temp['cp-' + group]">Choose a role...</span>
                                        <div v-if="temp['cp-' + group]">
                                            <span :style="getRole(temp['cp-' + group]).cssColor" class="role-icon">@</span>
                                            <span :style="getRole(temp['cp-' + group]).cssColor">{{ getRole(temp['cp-' + group]).name }}</span>
                                        </div>
                                    </button>
                                </div>
                                <div v-show="openDropdown === group + '-cperms-rolel'" class="dd-content">
                                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                        <label :for="group + '-CP-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                            <input type="radio" :id="group + '-CP-' + role.id" :value="role.id" v-model="temp['cp-' + group]" class="hidden">
                                            <span :style="role.cssColor" class="role-icon">@</span>
                                            <span :style="role.cssColor">{{ role.name }}</span>
                                        </label>
                                    </div>
                                    <div v-if="gRoles.length === 0">
                                        <span class="gray">No eligible roles.</span>
                                    </div>
                                </div>
                            </div>
                            <button class="button add" @click="add('cperms', group, false)" :disabled="!temp['cp-' + group]">
                                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                            </button>
                        </span>
                    </div></th>
                </tr>
                <tr v-for="(aliases, command) in data" v-show="gSettings.groupStatus[group]">
                    <td><span class="code">{{ (gSettings.prefix || ';')+command }}</span></td>
                    <td><span class="gray" v-if="command === 'nsfwagree'">
                        Command is DM-only.
                    </span><span class="gray" v-else-if="gSettings.commandStatus[command] === false">
                        Command is disabled.
                    </span><span v-else-if="shortcutMap[command]">
                        See <span class="code">{{ (gSettings.prefix || ';')+shortcutMap[command] }}</span>.
                    </span><div v-else>
                        <div class="dd">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-cperms' ? null : command + '-cperms'">
                                    <div v-if="gSettings.cperms.perms[temp.cperms_chan][command].type && gSettings.cperms.perms[temp.cperms_chan][command].type !== 'none'">
                                        <span>{{ ignorePermsTypes[gSettings.cperms.perms[temp.cperms_chan][command].type] }}</span>
                                    </div>
                                    <span v-else>None</span>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-cperms'" class="dd-content">
                                <div><label :for="command + '-cperms-0'">
                                    <input type="radio" :id="command + '-cperms-0'" value="none" v-model="gSettings.cperms.perms[temp.cperms_chan][command].type" class="hidden">
                                    <span>None</span>
                                </label></div>
                                <div><label :for="command + '-cperms-1'">
                                    <input type="radio" :id="command + '-cperms-1'" value="role_hier" v-model="gSettings.cperms.perms[temp.cperms_chan][command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_hier }}</span>
                                </label></div>
                                <div><label :for="command + '-cperms-2'">
                                    <input type="radio" :id="command + '-cperms-2'" value="role_list" v-model="gSettings.cperms.perms[temp.cperms_chan][command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.role_list }}</span>
                                </label></div>
                                <div><label :for="command + '-cperms-3'">
                                    <input type="radio" :id="command + '-cperms-3'" value="discord_perm" v-model="gSettings.cperms.perms[temp.cperms_chan][command].type" class="hidden">
                                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                                </label></div>
                            </div>
                        </div>
                        <span class="key">: </span>
                        <div class="dd" v-if="gSettings.cperms.perms[temp.cperms_chan][command].type === 'role_hier'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-cperms-roleh' ? null : command + '-cperms-roleh'">
                                    <div v-if="gSettings.cperms.perms[temp.cperms_chan][command].data">
                                        <span :style="getRole(gSettings.cperms.perms[temp.cperms_chan][command].data).cssColor" class="role-icon">@</span>
                                        <span :style="getRole(gSettings.cperms.perms[temp.cperms_chan][command].data).cssColor">{{ getRole(gSettings.cperms.perms[temp.cperms_chan][command].data).name }}</span>
                                    </div>
                                    <div v-else>
                                        <span class="role-icon">@</span>
                                        <span>Choose a role...</span>
                                    </div>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-cperms-roleh'" class="dd-content">
                                <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                    <label :for="command + '-CP-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                        <input type="radio" :id="command + '-CP-' + role.id" :value="role.id" v-model="gSettings.cperms.perms[temp.cperms_chan][command].data" class="hidden">
                                        <span :style="role.cssColor" class="role-icon">@</span>
                                        <span :style="role.cssColor">{{ role.name }}</span>
                                    </label>
                                </div>
                                <div v-if="gRoles.length === 0">
                                    <span class="gray">No eligible roles.</span>
                                </div>
                            </div>
                        </div>
                        <div class="dd" v-else-if="gSettings.cperms.perms[temp.cperms_chan][command].type === 'discord_perm'">
                            <div class="dd-trigger">
                                <button class="button" @click="openDropdown = openDropdown === command + '-cperms-dis' ? null : command + '-cperms-dis'">
                                    <span v-if="!gSettings.cperms.perms[temp.cperms_chan][command].data">Choose a Discord permission...</span>
                                    <div v-if="gSettings.cperms.perms[temp.cperms_chan][command].data">{{ discordPermissionNames[gSettings.cperms.perms[temp.cperms_chan][command].data] }}</div>
                                </button>
                            </div>
                            <div v-show="openDropdown === command + '-cperms-dis'" class="dd-content">
                                <div v-for="(permName, permID) in discordPermissionNames">
                                    <label :for="command + '-CP-' + permID">
                                        <input type="radio" :id="command + '-CP-' + permID" :value="permID" v-model="gSettings.cperms.perms[temp.cperms_chan][command].data" class="hidden">
                                        <span>{{ permName }}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <span v-else-if="gSettings.cperms.perms[temp.cperms_chan][command].type === 'role_list'">
                            <div class="guild box" v-for="(roleID, index) in gSettings.cperms.perms[temp.cperms_chan][command].data">
                                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                                <a @click="del('cperms', index, command, true)" class="remove"></a>
                            </div>
                            <div v-if="!gSettings.cperms.perms[temp.cperms_chan][command].data || gSettings.cperms.perms[temp.cperms_chan][command].data.length === 0">
                                <span class="gray">No roles selected.</span>
                            </div>
                            <span class="key">Add a role:</span>
                            <div class="dd">
                                <div class="dd-trigger">
                                    <button class="button" @click="openDropdown = openDropdown === command + '-cperms-rolel' ? null : command + '-cperms-rolel'">
                                        <span v-if="!temp['cp-' + command]" class="role-icon">@</span>
                                        <span v-if="!temp['cp-' + command]">Choose a role...</span>
                                        <div v-if="temp['cp-' + command]">
                                            <span :style="getRole(temp['cp-' + command]).cssColor" class="role-icon">@</span>
                                            <span :style="getRole(temp['cp-' + command]).cssColor">{{ getRole(temp['cp-' + command]).name }}</span>
                                        </div>
                                    </button>
                                </div>
                                <div v-show="openDropdown === command + '-cperms-rolel'" class="dd-content">
                                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                                        <label :for="command + '-CP-' + role.id" :class="role.managed ? 'managed disabled' : ''">
                                            <input type="radio" :id="command + '-CP-' + role.id" :value="role.id" v-model="temp['cp-' + command]" class="hidden">
                                            <span :style="role.cssColor" class="role-icon">@</span>
                                            <span :style="role.cssColor">{{ role.name }}</span>
                                        </label>
                                    </div>
                                    <div v-if="gRoles.length === 0">
                                        <span class="gray">No eligible roles.</span>
                                    </div>
                                </div>
                            </div>
                            <button class="button add" @click="add('cperms', command, true)" :disabled="!temp['cp-' + command]">
                                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                            </button>
                        </span>
                        <span class="gray" v-else-if="gSettings.cperms.gperms[temp.cperms_chan][group].type && gSettings.cperms.gperms[temp.cperms_chan][group].type !== 'none'">Inherit from group</span>
                        <span class="gray" v-else>Default: {{ defaultPerms[command] ? discordPermissionNames[defaultPerms[command]] : 'open to everyone' }}</span>
                    </div></td>
                </tr>
            </tbody></table>
            <span class="gray" v-if="!temp.cperms_group">Select a group to start editing channel permissions.</span>
        </div>
        <div class="column">
        	<div class="setting">
        		<span class="key title is-5">Special permissions</span>
        		<br><br>
        		<span class="key">External guild info:</span>
        		<span class="info margin-bottom-5">Specifies who can use <span class="code">{{ gSettings.prefix || ';'}}info</span> to see information about other servers.</span>
        		<div class="dd">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-extgi' ? null : 'cperms-extgi'">
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type && gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type !== 'none'">
        						<span>{{ ignorePermsTypes[gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type] }}</span>
        					</div>
        					<span v-else>None</span>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-extgi'" class="dd-content">
        				<div><label for="cperms-extgi-0">
        					<input type="radio" id="cperms-extgi-0" value="none" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type" class="hidden">
        					<span>None</span>
        				</label></div>
        				<div><label for="cperms-extgi-1">
        					<input type="radio" id="cperms-extgi-1" value="role_hier" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_hier }}</span>
        				</label></div>
        				<div><label for="cperms-extgi-2">
        					<input type="radio" id="cperms-extgi-2" value="role_list" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_list }}</span>
        				</label></div>
        				<div><label for="cperms-extgi-3">
        					<input type="radio" id="cperms-extgi-3" value="discord_perm" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type" class="hidden">
        					<span>{{ ignorePermsTypes.discord_perm }}</span>
        				</label></div>
        			</div>
        		</div>
        		<span class="key">: </span>
        		<div class="dd" v-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type === 'role_hier'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-extgi-roleh' ? null : 'cperms-extgi-roleh'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data" class="role-icon">@</span>
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data">Choose a role...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data">
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data).cssColor" class="role-icon">@</span>
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data).cssColor">{{ getRole(gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data).name }}</span>
        					</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-extgi-roleh'" class="dd-content">
        				<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        					<label :for="'CPEXH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        						<input type="radio" :id="'CPEXH-' + role.id" :value="role.id" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data" class="hidden">
        						<span :style="role.cssColor" class="role-icon">@</span>
        						<span :style="role.cssColor">{{ role.name }}</span>
        					</label>
        				</div>
        				<div v-if="gRoles.length === 0">
        					<span class="gray">No eligible roles.</span>
        				</div>
        			</div>
        		</div>
        		<div class="dd" v-else-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type === 'discord_perm'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-extgi-dis' ? null : 'cperms-extgi-dis'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data">Choose a Discord permission...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data">{{ discordPermissionNames[gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data] }}</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-extgi-dis'" class="dd-content">
        				<div v-for="(permName, permID) in discordPermissionNames">
        					<label :for="'CPEXD-' + permID">
        						<input type="radio" :id="'CPEXD-' + permID" :value="permID" v-model="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data" class="hidden">
        						<span>{{ permName }}</span>
        					</label>
        				</div>
        			</div>
        		</div>
        		<span v-else-if="gSettings.cperms.perms[temp.cperms_chan].external_guild_info.type === 'role_list'">
        			<div class="guild box" v-for="(roleID, index) in gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data">
        				<span :style="getRole(roleID).cssColor" class="role-icon">@</span>
        				<span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
        				<a @click="del('cperms', index, 'external_guild_info', 'cp_extgi')" class="remove"></a>
        			</div>
        			<div v-if="!gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data || gSettings.cperms.perms[temp.cperms_chan].external_guild_info.data.length === 0">
        				<span class="gray">No roles selected.</span>
        			</div>
        			<br v-else>
        			<span class="key">Add a role:</span>
        			<div class="dd">
        				<div class="dd-trigger">
        					<button class="button" @click="openDropdown = openDropdown === 'cperms-extgi-rolel' ? null : 'cperms-extgi-rolel'">
        						<span v-if="!temp.cp_extgi" class="role-icon">@</span>
        						<span v-if="!temp.cp_extgi">Choose a role...</span>
        						<div v-if="temp.cp_extgi">
        							<span :style="getRole(temp.cp_extgi).cssColor" class="role-icon">@</span>
        							<span :style="getRole(temp.cp_extgi).cssColor">{{ getRole(temp.cp_extgi).name }}</span>
        						</div>
        					</button>
        				</div>
        				<div v-show="openDropdown === 'cperms-extgi-rolel'" class="dd-content">
        					<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        						<label :for="'CPEXL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        							<input type="radio" :id="'CPEXL-' + role.id" :value="role.id" v-model="temp.cp_extgi" class="hidden">
        							<span :style="role.cssColor" class="role-icon">@</span>
        							<span :style="role.cssColor">{{ role.name }}</span>
        						</label>
        					</div>
        					<div v-if="gRoles.length === 0">
        						<span class="gray">No eligible roles.</span>
        					</div>
        				</div>
        			</div>
        			<button class="button add" @click="add('cperms', 'external_guild_info', 'cp_extgi')" :disabled="!temp.cp_extgi">
        				<img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        			</button>
        		</span>
        		<span class="gray" v-else>Default: {{ discordPermissionNames.MANAGE_MESSAGES }}</span>
        	</div>
        	<br><br>
        	<div class="setting">
        		<span class="key">Use tags:</span>
        		<span class="info margin-bottom-5">Specifies who can use tags created by <span class="code">{{ gSettings.prefix || ';'}}tag</span>.</span>
        		<div class="dd">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-usetags' ? null : 'cperms-usetags'">
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.type && gSettings.cperms.perms[temp.cperms_chan].use_tags.type !== 'none'">
        						<span>{{ ignorePermsTypes[gSettings.cperms.perms[temp.cperms_chan].use_tags.type] }}</span>
        					</div>
        					<span v-else>None</span>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-usetags'" class="dd-content">
        				<div><label for="cperms-usetags-0">
        					<input type="radio" id="cperms-usetags-0" value="none" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.type" class="hidden">
        					<span>None</span>
        				</label></div>
        				<div><label for="cperms-usetags-1">
        					<input type="radio" id="cperms-usetags-1" value="role_hier" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_hier }}</span>
        				</label></div>
        				<div><label for="cperms-usetags-2">
        					<input type="radio" id="cperms-usetags-2" value="role_list" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_list }}</span>
        				</label></div>
        				<div><label for="cperms-usetags-3">
        					<input type="radio" id="cperms-usetags-3" value="discord_perm" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.type" class="hidden">
        					<span>{{ ignorePermsTypes.discord_perm }}</span>
        				</label></div>
        			</div>
        		</div>
        		<span class="key">: </span>
        		<div class="dd" v-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.type === 'role_hier'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-usetags-roleh' ? null : 'cperms-usetags-roleh'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].use_tags.data" class="role-icon">@</span>
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].use_tags.data">Choose a role...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.data">
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].use_tags.data).cssColor" class="role-icon">@</span>
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].use_tags.data).cssColor">{{ getRole(gSettings.cperms.perms[temp.cperms_chan].use_tags.data).name }}</span>
        					</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-usetags-roleh'" class="dd-content">
        				<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        					<label :for="'CPUTH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        						<input type="radio" :id="'CPUTH-' + role.id" :value="role.id" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.data" class="hidden">
        						<span :style="role.cssColor" class="role-icon">@</span>
        						<span :style="role.cssColor">{{ role.name }}</span>
        					</label>
        				</div>
        				<div v-if="gRoles.length === 0">
        					<span class="gray">No eligible roles.</span>
        				</div>
        			</div>
        		</div>
        		<div class="dd" v-else-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.type === 'discord_perm'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-usetags-dis' ? null : 'cperms-usetags-dis'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].use_tags.data">Choose a Discord permission...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.data">{{ discordPermissionNames[gSettings.cperms.perms[temp.cperms_chan].use_tags.data] }}</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-usetags-dis'" class="dd-content">
        				<div v-for="(permName, permID) in discordPermissionNames">
        					<label :for="'CPUTD-' + permID">
        						<input type="radio" :id="'CPUTD-' + permID" :value="permID" v-model="gSettings.cperms.perms[temp.cperms_chan].use_tags.data" class="hidden">
        						<span>{{ permName }}</span>
        					</label>
        				</div>
        			</div>
        		</div>
        		<span v-else-if="gSettings.cperms.perms[temp.cperms_chan].use_tags.type === 'role_list'">
        			<div class="guild box" v-for="(roleID, index) in gSettings.cperms.perms[temp.cperms_chan].use_tags.data">
        				<span :style="getRole(roleID).cssColor" class="role-icon">@</span>
        				<span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
        				<a @click="del('cperms', index, 'use_tags', true)" class="remove"></a>
        			</div>
        			<div v-if="!gSettings.cperms.perms[temp.cperms_chan].use_tags.data || gSettings.cperms.perms[temp.cperms_chan].use_tags.data.length === 0">
        				<span class="gray">No roles selected.</span>
        			</div>
        			<br v-else>
        			<span class="key">Add a role:</span>
        			<div class="dd">
        				<div class="dd-trigger">
        					<button class="button" @click="openDropdown = openDropdown === 'cperms-usetags-rolel' ? null : 'cperms-usetags-rolel'">
        						<span v-if="!temp.cp_usetags" class="role-icon">@</span>
        						<span v-if="!temp.cp_usetags">Choose a role...</span>
        						<div v-if="temp.cp_usetags">
        							<span :style="getRole(temp.cp_usetags).cssColor" class="role-icon">@</span>
        							<span :style="getRole(temp.cp_usetags).cssColor">{{ getRole(temp.cp_usetags).name }}</span>
        						</div>
        					</button>
        				</div>
        				<div v-show="openDropdown === 'cperms-usetags-rolel'" class="dd-content">
        					<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        						<label :for="'CPUTL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        							<input type="radio" :id="'CPUTL-' + role.id" :value="role.id" v-model="temp.cp_usetags" class="hidden">
        							<span :style="role.cssColor" class="role-icon">@</span>
        							<span :style="role.cssColor">{{ role.name }}</span>
        						</label>
        					</div>
        					<div v-if="gRoles.length === 0">
        						<span class="gray">No eligible roles.</span>
        					</div>
        				</div>
        			</div>
        			<button class="button add" @click="add('cperms', 'use_tags', 'cp_usetags')" :disabled="!temp.cp_usetags">
        				<img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        			</button>
        		</span>
        		<span class="gray" v-else>Default: open to everyone</span>
        	</div>
        	<br><br>
        	<div class="setting">
        		<span class="key">Tag list:</span>
        		<span class="info margin-bottom-5">Specifies who can use <span class="code">{{ gSettings.prefix || ';'}}tag list</span> to see all of the server's tags.</span>
        		<div class="dd">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-taglist' ? null : 'cperms-taglist'">
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.type && gSettings.cperms.perms[temp.cperms_chan].tag_list.type !== 'none'">
        						<span>{{ ignorePermsTypes[gSettings.cperms.perms[temp.cperms_chan].tag_list.type] }}</span>
        					</div>
        					<span v-else>None</span>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-taglist'" class="dd-content">
        				<div><label for="cperms-taglist-0">
        					<input type="radio" id="cperms-taglist-0" value="none" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.type" class="hidden">
        					<span>None</span>
        				</label></div>
        				<div><label for="cperms-taglist-1">
        					<input type="radio" id="cperms-taglist-1" value="role_hier" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_hier }}</span>
        				</label></div>
        				<div><label for="cperms-taglist-2">
        					<input type="radio" id="cperms-taglist-2" value="role_list" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.type" class="hidden">
        					<span>{{ ignorePermsTypes.role_list }}</span>
        				</label></div>
        				<div><label for="cperms-taglist-3">
        					<input type="radio" id="cperms-taglist-3" value="discord_perm" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.type" class="hidden">
        					<span>{{ ignorePermsTypes.discord_perm }}</span>
        				</label></div>
        			</div>
        		</div>
        		<span class="key">: </span>
        		<div class="dd" v-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.type === 'role_hier'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-taglist-roleh' ? null : 'cperms-taglist-roleh'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].tag_list.data" class="role-icon">@</span>
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].tag_list.data">Choose a role...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.data">
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].tag_list.data).cssColor" class="role-icon">@</span>
        						<span :style="getRole(gSettings.cperms.perms[temp.cperms_chan].tag_list.data).cssColor">{{ getRole(gSettings.cperms.perms[temp.cperms_chan].tag_list.data).name }}</span>
        					</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-taglist-roleh'" class="dd-content">
        				<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        					<label :for="'CPTLH-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        						<input type="radio" :id="'CPTLH-' + role.id" :value="role.id" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.data" class="hidden">
        						<span :style="role.cssColor" class="role-icon">@</span>
        						<span :style="role.cssColor">{{ role.name }}</span>
        					</label>
        				</div>
        				<div v-if="gRoles.length === 0">
        					<span class="gray">No eligible roles.</span>
        				</div>
        			</div>
        		</div>
        		<div class="dd" v-else-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.type === 'discord_perm'">
        			<div class="dd-trigger">
        				<button class="button" @click="openDropdown = openDropdown === 'cperms-taglist-dis' ? null : 'cperms-taglist-dis'">
        					<span v-if="!gSettings.cperms.perms[temp.cperms_chan].tag_list.data">Choose a Discord permission...</span>
        					<div v-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.data">{{ discordPermissionNames[gSettings.cperms.perms[temp.cperms_chan].tag_list.data] }}</div>
        				</button>
        			</div>
        			<div v-show="openDropdown === 'cperms-taglist-dis'" class="dd-content">
        				<div v-for="(permName, permID) in discordPermissionNames">
        					<label :for="'CPTLD-' + permID">
        						<input type="radio" :id="'CPTLD-' + permID" :value="permID" v-model="gSettings.cperms.perms[temp.cperms_chan].tag_list.data" class="hidden">
        						<span>{{ permName }}</span>
        					</label>
        				</div>
        			</div>
        		</div>
        		<span v-else-if="gSettings.cperms.perms[temp.cperms_chan].tag_list.type === 'role_list'">
        			<div class="guild box" v-for="(roleID, index) in gSettings.cperms.perms[temp.cperms_chan].tag_list.data">
        				<span :style="getRole(roleID).cssColor" class="role-icon">@</span>
        				<span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
        				<a @click="del('cperms', index, 'tag_list', 'cp_taglist')" class="remove"></a>
        			</div>
        			<div v-if="!gSettings.cperms.perms[temp.cperms_chan].tag_list.data || gSettings.cperms.perms[temp.cperms_chan].tag_list.data.length === 0">
        				<span class="gray">No roles selected.</span>
        			</div>
        			<br v-else>
        			<span class="key">Add a role:</span>
        			<div class="dd">
        				<div class="dd-trigger">
        					<button class="button" @click="openDropdown = openDropdown === 'cperms-taglist-rolel' ? null : 'cperms-taglist-rolel'">
        						<span v-if="!temp.cp_taglist" class="role-icon">@</span>
        						<span v-if="!temp.cp_taglist">Choose a role...</span>
        						<div v-if="temp.cp_taglist">
        							<span :style="getRole(temp.cp_taglist).cssColor" class="role-icon">@</span>
        							<span :style="getRole(temp.cp_taglist).cssColor">{{ getRole(temp.cp_taglist).name }}</span>
        						</div>
        					</button>
        				</div>
        				<div v-show="openDropdown === 'cperms-taglist-rolel'" class="dd-content">
        					<div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
        						<label :for="'CPTLL-' + role.id" :class="role.managed ? 'managed disabled' : ''">
        							<input type="radio" :id="'CPTLL-' + role.id" :value="role.id" v-model="temp.cp_taglist" class="hidden">
        							<span :style="role.cssColor" class="role-icon">@</span>
        							<span :style="role.cssColor">{{ role.name }}</span>
        						</label>
        					</div>
        					<div v-if="gRoles.length === 0">
        						<span class="gray">No eligible roles.</span>
        					</div>
        				</div>
        			</div>
        			<button class="button add" @click="add('cperms', 'tag_list', 'cp_taglist')" :disabled="!temp.cp_taglist">
        				<img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        			</button>
        		</span>
        		<span class="gray" v-else>Default: open to everyone</span>
        	</div>
        </div>
    </div>
    <span class="gray" v-if="!temp.cperms_chan">Select a channel to start editing permissions.</span>
</div><div id="blacklist" v-if="selectedGuildID && column === 'blacklist' && !loading">
    <div class="header">
        <span class="bold">Blacklist</span>
        <hr>
    </div>
    <span class="info">Blacklisting a channel prevents any commands from being used there. Blacklisting a user or role prevents that user or anyone with that role from using any commands. The blacklist does not affect anyone with administrator permissions.</span>
    <br>
    <div class="columns">
        <div class="column is-three-fifths">
            <span class="key">Current blacklist:</span>
            <div v-if="gSettings.blacklist && getLen(gSettings.blacklist) > 0">
                <div v-for="(thing, index) in gSettings.blacklist" class="guild box">
                    <span v-if="getType(thing) === 'channel'"><span class="blue">Channel: </span><span class="channel-icon">#</span>{{ getChannel(thing).name }}</span>
                    <span v-else-if="getType(thing) === 'role'"><span class="green">Role: </span><span class="role-icon" :style="getRole(thing).cssColor">@</span><span :style="getRole(thing).cssColor">{{ getRole(thing).name }}</span></span>
                    <span v-else><span class="yellow">User:&nbsp;</span><span v-html="resolveUser(thing)"></span></span>
                    <a class="remove" @click="del('blacklist', index)"></a>
                </div>
            </div>
            <span class="gray" v-else>No items on the blacklist.</span>
            <br>
            <span class="info">Note that deleted channels and roles will also show up as a User here.</span>
        </div>
        <div class="column">
            <span class="key">Add user/channel/role by ID:</span>
            <input type="text" v-model="temp.bl_item" placeholder="17-18 digit ID" style="min-width: 170px;">
            <button class="button add" @click="add('bl_item')" :disabled="!temp.bl_item || temp.bl_item.length < 17 || temp.bl_item.length > 20 || temp.bl_item.match(/\D/) || (gSettings.blacklist && gSettings.blacklist.indexOf(temp.bl_item) !== -1)">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
            <br>
            <span class="key">Add role:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'bl_role' ? null : 'bl_role'">
                        <span v-if="!temp.bl_role" class="role-icon">@</span>
                        <span v-if="!temp.bl_role">Choose a role...</span>
                        <div v-if="temp.bl_role">
                            <span :style="getRole(temp.bl_role).cssColor" class="role-icon">@</span>
                            <span :style="getRole(temp.bl_role).cssColor">{{ getRole(temp.bl_role).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'bl_role'" class="dd-content">
                    <div v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                        <label :for="'BR-' + role.id" :class="getGuild(selectedGuildID).owner || role.position < memberRank ? '' : 'too-high disabled'">
                            <input type="radio" :id="'BR-' + role.id" :value="role.id" v-model="temp.bl_role" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('bl_role')" :disabled="!temp.bl_role || (gSettings.blacklist && gSettings.blacklist.indexOf(temp.bl_role) !== -1)">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
            <br>
            <span class="key">Add channel:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'bl_chan' ? null : 'bl_chan'">
                        <span v-if="!temp.bl_chan" class="channel-icon">#</span>
                        <span v-if="!temp.bl_chan">Choose a channel...</span>
                        <div v-if="temp.bl_chan">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(temp.bl_chan).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'bl_chan'" class="dd-content">
                    <div v-for="chan in gChannels">
                        <label :for="'BLC-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'BLC-' + chan.id" :value="chan.id" v-model="temp.bl_chan" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('bl_chan')" :disabled="!temp.bl_chan || (gSettings.blacklist && gSettings.blacklist.indexOf(temp.bl_chan) !== -1)">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </div>
    </div>
</div><div id="roles" v-if="selectedGuildID && column === 'roles' && !loading">
    <div class="header">
        <span class="bold">Temporary Roles</span>
        <hr>
    </div>
    <div class="setting"><span class="info">A list of temporary role assignments done using <span class="code">{{ gSettings.prefix || ';' }}role</span>.</span></div>
    <br>
    <div v-for="(data, roleID) in gSettings.temproles" v-if="data && getLen(gSettings.temproles[roleID]) > 0" class="bordered">
        <div style="margin-bottom: -10px;">
            <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
            <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
        </div>
        <table class="table wide-table" ><tbody>
            <tr>
                <th>User ID</th>
                <th>Assigned at</th>
                <th>Issuer ID</th>
                <th>Expires at</th>
            </tr>
            <tr v-for="(data, key) in gSettings.temproles[roleID]" v-if="data">
                <td v-html="resolveUser(key)"></td>
                <td>{{ gSettings.tzRegion && gSettings.tz ? moment(data.startTime).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.startTime).format('MMM Do YYYY, h:mma z') }}</td>
                <td v-html="resolveUser(data.issuer)"></td>
                <td v-if="data.timestamp">{{ gSettings.tzRegion && gSettings.tz ? moment(data.timestamp).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.timestamp).format('MMM Do YYYY, h:mma z') }}</td>
                <td v-else><i>Never</i></td>
            </tr>
        </tbody></table>
    </div>
</div><div id="music" v-if="selectedGuildID && column === 'music' && !loading">
    <div class="header">
        <span class="bold">Music</span>
        <hr>
    </div>
    <div id="volume" :class="'setting slider-wrap' + (guildPro ? '' : ' disabled')">
        <span class="title is-5">Volume</span>
        <span class="info">The default volume at which music will play.</span>
		<input type="range" min="0" max="1000" step="5" v-model="gSettings.music.volume">
		<span class="vol-tt" :style="'left:calc((100% - 20px) * ' + (gSettings.music.volume / 1000) + ' - 15px)'">{{ gSettings.music.volume }}%</span>
        <div class="tick">0%</div>
        <div class="graytick"></div>
        <div class="tick">100%</div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="tick">500%</div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="graytick"></div>
        <div class="tick">1000%</div>
    </div>
    <div  :class="'setting' + (guildPro ? '' : ' disabled')">
        <span class="key">Autoplay</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.music.autoplay">
            <span class="slider round"></span>
        </label>
        <br>
        <span class="info">Play related songs after the music queue ends.</span>
    </div>
    <div class="setting" v-show="!guildPro">
        <span>To change volume or enable autoplay, please purchase <a href="https://benderbot.co/pro" target="_blank">Bender Pro</a> and <a @click="column = 'pro'">enable it</a> for this server.</span>
    </div>
</div><div id="starboard" v-if="selectedGuildID && column === 'starboard' && !loading">
    <div class="header">
        <span class="bold">Starboard</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.starboard.enabled">
            <span class="slider round"></span>
        </label>
        <hr>
    </div>
    <span class="info">
        When a message receives enough <span>
        <span v-if="!gSettings.starboard.emoji">⭐</span>
        <object class="sb-emoji" v-else-if="gSettings.starboard.emoji.length > 16" :data="'https://cdn.discordapp.com/emojis/' + gSettings.starboard.emoji + '.gif?v=1'" type="image/gif">
            <img :src="'https://cdn.discordapp.com/emojis/' + gSettings.starboard.emoji + '.png?v=1'" style="height:24px!important;vertical-align:middle;">
        </object>
        <span v-else>{{ gSettings.starboard.emoji }}</span>
        </span> reactions, that message will be posted in the starboard channel.
    </span>
    <div class="columns">
        <div class="setting column">
            <span class="key">Channel:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'star-chan' ? null : 'star-chan'">
                        <div v-if="gSettings.starboard.channel">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(gSettings.starboard.channel).name }}</span>
                        </div>
                        <div v-else>
                            <span class="channel-icon">#</span>
                            <span>Choose a channel...</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'star-chan'" class="dd-content">
                    <div v-show="gSettings.starboard.channel"><label for="SB-unset">
                        <input type="radio" id="SB-unset" value="" v-model="gSettings.starboard.channel" class="hidden">
                        <span class="channel-icon">❓</span>
                        <span class="channel-name">None</span>
                    </label></div>
                    <div v-for="chan in gChannels" v-show="gSettings.starboard.channel !== chan.id">
                        <label :for="'SB-' + chan.id" v-if="chan.type === 0">
                            <input type="radio" :id="'SB-' + chan.id" :value="chan.id" v-model="gSettings.starboard.channel" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <div v-else-if="chan.type === 4" class="gray mini-header">{{ chan.name }}</div>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <span class="info"><i>Note: Reactions to messages already in this channel will be ignored.</i></span>
        </div>
        <div class="setting column">
            <span class="key">Count:</span>
            <input type="number" v-model.number="gSettings.starboard.count" placeholder="5"></input>
            <span class="info">The number of reactions needed to be featured in the starboard channel.</span>
        </div>
    </div>
    <span class="info">
        Current emoji is: <span>
        <span v-if="!gSettings.starboard.emoji">⭐</span>
        <object class="sb-emoji" v-else-if="gSettings.starboard.emoji.length > 16" :data="'https://cdn.discordapp.com/emojis/' + gSettings.starboard.emoji + '.gif?v=1'" type="image/gif">
            <img :src="'https://cdn.discordapp.com/emojis/' + gSettings.starboard.emoji + '.png?v=1'" style="height:24px!important;vertical-align:middle;">
        </object>
        <span v-else>{{ gSettings.starboard.emoji }}</span>
        </span>
        <br>
        To set the emoji, please use <span class="code">{{ gSettings.prefix || ';' }}starboard emoji</span> in your server.
    </span>
</div></section>
<footer class="footer has-text-centered hidden"><span class="gray">PayPal logo © PayPal, Inc. Image of Bender belongs to Matt Groening. Basically, I didn't make any images on this site :^)</span></footer>
<div id="notif" class=""><span id="notif-text"></span></div>
<div :class="'modal' + (modalText ? ' is-active' : '')">
    <div class="modal-background" @click="modalText = ''"></div>
    <div class="modal-content">
        <div class="message is-danger is-medium">
            <div class="message-header">
                <span>Error saving settings.</span>
                <button class="delete is-large" aria-label="delete" @click="modalText = ''"></button>
            </div>
            <div class="message-body box">
                <span class="white">{{ modalText }}</span>
            </div>
        </div>
    </div>
</div>
</div>
</body>
</html>
