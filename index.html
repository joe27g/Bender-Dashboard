<!DOCTYPE html>
<html>
<head>
    <title>Bender Dashboard</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#FF0000">
    <meta name="keywords" content="Discord, Bot, Bender, Dashboard, Best, Discord Bot, benderbot">
    <meta name="og:title" content="Bender Dashboard">
    <meta name="og:description" content="The web dashboard for Bender, to edit all its settings easily. CLOSED BETA - Many features will be unavailable.">
    <meta name="description" content="The web dashbaord for Bender, to edit all its settings easily. CLOSED BETA - Many features will be unavailable.">
    <meta name="og:image" content="https://benderbot.co/Bender-large.png">
    <meta name="og:site_name" content="Bender Bot">
    <meta name="og:url" content="https://dashboard.benderbot.co">
    <link rel="stylesheet" href="./style-v0.9.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulmaswatch/0.6.2/darkly/bulmaswatch.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.8/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-timezone@0.5.13/builds/moment-timezone-with-data.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-markdown@0.4.2/simple-markdown.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlightjs@9.10.0/styles/monokai-sublime.min.css">
    <script src="https://cdn.jsdelivr.net/npm/highlightjs@9.10.0/highlight.pack.min.js"></script>
    <script src="./regex-colorizer.js"></script>
    <script src='https://www.paypalobjects.com/js/external/connect/api.js'></script>
    <script src="./constants.js"></script>
    <script src="./commandList.js"></script>
    <script src="./dropdowns.js"></script>
</head>
<body><div id="app">
<transition name="fade">
    <div id="backdrop" v-show="sidenavOpen" @click="sidenavOpen = false"></div>
</transition>
<transition name="fade-slide">
    <div class="menu" id="sidenav" v-show="sidenavOpen">
        <a id="sidenav-close" @click="sidenavOpen = false">x</a>
        <p class="menu-label">Overview</p>
        <ul class="menu-list">
            <li v-for="item in navSections[0]">
                <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
        <p class="menu-label">Moderation</p>
        <ul class="menu-list">
            <li v-for="item in navSections[1]">
                <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
            <li><ul class="menu-list">
                <li v-for="item in navSections[2]">
                    <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
                </li>
            </ul></li>
            <li v-for="item in navSections[3]">
                <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
        <p class="menu-label">Configuration</p>
        <ul class="menu-list">
            <li v-for="item in navSections[4]">
                <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
            <li><ul>
                <li v-for="item in navSections[5]">
                    <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
                </li>
            </ul></li>
            <li v-for="item in navSections[6]">
                <a :href="'#' + item.id" @click="column = item.id" :data-nav="item.id" :class="item.id === column ? 'is-active' : ''">{{ item.name }} <span v-if="item.ro" class="ro">[Read-only]</span> <span v-if="item.cs" class="cs">[Coming soon™]</span></a>
            </li>
        </ul>
    </div>
</transition>
<section id="header-wrapper">
    <div id="header">
        <a class="b bold" href="/"><img src="./Bender.png" class="b">Bender Dashboard</a>
    </div>
    <div id="navbar" class="level is-mobile">
        <a id="sidenav-toggle" @click="sidenavOpen = !sidenavOpen">
            <img src="./menu.svg">
        </a>
        <div id="guild-picker">
            <span>Edit settings for:</span>
            <div id="guilds" class="dd">
                <div id="guilds-button" class="dd-trigger">
                    <div id="guilds-chooser" class="button" @click="openDropdown = openDropdown === 'guild' ? null : 'guild'">
                        <img v-if="!selectedGuildID" class="guild-icon" src="https://discordapp.com/assets/1c8a54f25d101bdc607cec7228247a9a.svg">
                        <span v-if="!selectedGuildID">Choose a server...</span>
                        <div v-if="selectedGuildID">
                            <img v-if="!!getGuild(selectedGuildID).iconSrc" class="guild-icon" :src="getGuild(selectedGuildID).iconSrc">
                            <span class="guild-name">{{ getGuild(selectedGuildID).name }}</span>
                        </div>
                    </div>
                </div>
                <div id="guilds-dropdown" class="dd-content" v-show="openDropdown === 'guild'">
                    <label v-for="guild in guilds" v-show="selectedGuildID !== guild.id" :for="'G-' + guild.id">
                        <input type="radio" :id="'G-' + guild.id" :value="guild.id" v-model="selectedGuildID" class="hidden">
                        <img v-if="!!guild.iconSrc" class="guild-icon" :src="guild.iconSrc">
                        <span class="guild-name">{{ guild.name }}</span>
                    </label>
                    <div v-if="guilds.length === 0">
                        <span class="gray">No servers with "Manage Server" permission.</span>
                    </div>
                </div>
            </div>
            <img id="refresh" :class="loading ? 'working' : ''" title="Refresh settings" src="./refresh.png" @click="reloadGSettings(column === 'pro' ? 'PAYPAL' : selectedGuildID)">
            <img id="save" title="Save settings" src="./floppy_disk.png" @click="saveGSettings(column === 'pro' ? 'PAYPAL' : selectedGuildID)">
        </div>
        <div id="integration">
            <img class="pfp" v-if="user && user.pfp" :src="user.pfp">
            <span class="user-area" v-if="!!user">
                <span class="user-tag">{{ user.username }}<span class="gray">#{{ user.discriminator }}</span></span>
                <a id="logout" href="https://api.benderbot.co/logout">Logout</a>
            </span>
            <a v-else href="https://api.benderbot.co/login_redirect">Login with Discord</a>
        </div>
    </div>
</section>
<section id="settings-wrapper"><div id="content-placeholder" v-show="(!selectedGuildID && column !== 'pro') || !column">
    <span>Nothing to see here...</span> <span class="gray">Choose a server to start changing settings.</span>
</div><div id="pro" v-show="column === 'pro'">
    <div class="header">
        <span class="bold">Bender Pro Settings <img id="pp_logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/2000px-PayPal.svg.png"></span>
    </div>
    <div id="paypalIntegration" v-if="paypalInfo">
        <img v-if="paypalInfo.picture" :src="paypalInfo.picture">
        <span class="username" v-if="paypalInfo.name">Logged in as: {{ paypalInfo.name }}</span>
        <span class="gray" v-if="paypalInfo.email">{{ paypalInfo.email }}</span>
        <br><br>
        <div v-if="paypalInfo.plan">
            <span>Plan: {{ paypalInfo.plan.description }}</span> | <span class="gray">${{ paypalInfo.plan.amount }} {{ paypalInfo.plan.currency }} per {{ paypalInfo.plan.freq }}</span> | <span>State: {{ paypalInfo.plan.valid_until >= Date.now() ? 'Active' : 'Expired' }}</span> <span v-if="paypalInfo.plan.valid_until >= Date.now()">| Valid until: {{ moment(paypalInfo.plan.valid_until).format('MMM Do YYYY, h:mma') }} UTC</span> <span v-if="paypalInfo.plan.valid_until < Date.now()">| Expired on: {{ moment(paypalInfo.plan.valid_until).format('MMM Do YYYY, h:mma') }} UTC</span>
            <br>
            <span v-if="paypalInfo.plan.valid_until >= Date.now()">Subscribed since: {{ moment(paypalInfo.first_txn).format('MMM Do YYYY, h:mma') }} | </span><span>Last payment: {{ moment(paypalInfo.txn_timestamp).format('MMM Do YYYY, h:mma') }}</span>
            <br><br>
            <span>Use Bender Pro in servers:</span>
            <br>
            <div v-if="paypalInfo.guilds.length !== 0">
                <div v-for="guildID in paypalInfo.guilds" class="guild box">
                    <img v-if="!!getGuild(guildID).iconSrc" class="guild-icon" :src="getGuild(guildID).iconSrc">
                    <span class="guild-name">{{ getGuild(guildID).name }}</span>
                    <a class="remove" @click="paypalInfo.guilds.splice(paypalInfo.guilds.indexOf(guildID), 1)"></a>
                </div>
            </div>
            <span v-if="paypalInfo.guilds.length === 0" class="gray">No servers selected.</span>
            <br>
            <a v-show="selectedGuildID" @click="paypalInfo.guilds.push(selectedGuildID)" :style="paypalInfo.guilds.length < maxPremiumGuilds && paypalInfo.guilds.indexOf(selectedGuildID) === -1 ? '' : 'pointer-events:none;opacity:.5;'">Add selected server ({{ getGuild(selectedGuildID).name }})</a>
            <span v-show="!selectedGuildID" class="gray">Select a server at the top to add it to Bender Pro.</span>
            <br>
            <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_subscr-find&alias=PJZ5K5YLMQDJU">
                <img src="https://www.paypalobjects.com/en_US/i/btn/btn_unsubscribe_LG.gif" border="0">
            </a>
        </div>
        <span v-else>Plan: <span class="gray">No subscription to Bender Pro.</span></span>
        <span v-if="!paypalInfo.plan || paypalInfo.plan.state === 'Expired'">{{ paypalInfo.plan ? 'Renew' : 'Purchase' }} Bender Pro <a href="https://benderbot.co/pro" target="_blank">here</a>.</span>
    </div>
    <div id="paypalLogin" v-show="!paypalInfo || !paypalInfo.id"></div>
    <br>
    <a v-show="paypalInfo && paypalInfo.id" href="https://api.benderbot.co/paypal_logout">Logout of PayPal</a>
</div><div id="general" v-if="selectedGuildID && column === 'general'">
    <div class="header">
        <span class="bold">General Settings</span>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Prefix:</span>
            <input type="text" id="prefix" placeholder=";" maxlength="32" v-model="gSettings.prefix">
            <span class="info">The custom prefix for commands. Default is <span class="code">;</span>. Mentioning @Bender will always trigger commands, no matter what the prefix is.</span>
        </div>
        <div class="setting column">
            <span class="key">Autorole:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'autorole' ? null : 'autorole'">
                        <span v-if="!gSettings.autorole" class="role-icon">@</span>
                        <span v-if="!gSettings.autorole">Choose a role...</span>
                        <div v-if="gSettings.autorole">
                            <span :style="getRole(gSettings.autorole).cssColor" class="role-icon">@</span>
                            <span :style="getRole(gSettings.autorole).cssColor">{{ getRole(gSettings.autorole).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'autorole'" class="dd-content">
                    <div><label for="AR-none">
                        <input type="radio" id="AR-none" value="" v-model="gSettings.autorole" class="hidden">
                        <span class="role-icon">❓</span>
                        <span class="role-name">None</span>
                    </label><br></div>
                    <div v-for="role in gRoles">
                        <label :for="'AR-' + role.id">
                            <input type="radio" :id="'AR-' + role.id" :value="role.id" v-model="gSettings.autorole" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <span class="info">If the agreement system is enabled, members will receive this role after agreeing. Otherwise, it will be assigned upon joining the server.</span>
        </div>
    </div>
    <table class="table is-narrow" id="bools"><tbody>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.permMsgs">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Show "You don't have permission to use &lt;command&gt;" messages</span>
            </td>
        </tr>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.disabledMsgs">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Show "The &lt;command&gt; command is disabled" messages</span>
            </td>
        </tr>
        <tr>
            <td>
                <label class="switch small">
                    <input type="checkbox" v-model="gSettings.config.replyDM">
                    <span class="slider round"></span>
                </label>
            </td>
            <td>
                <span class="key">Reply to commands in DM when Bender doesn't have permission to send messages</span>
            </td>
        </tr>
    </tbody></table>
    <div class="setting">
        <span class="key">Timezone region:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'tzr' ? null : 'tzr'">
                    <span v-if="!gSettings.tzRegion">Choose a region...</span>
                    <div v-if="gSettings.tzRegion">
                        <span>{{ gSettings.tzRegion === 'Etc' ? 'GMT Offsets' : gSettings.tzRegion }}</span>
                    </div>
                </button>
            </div>
            <div class="dd-content" v-show="openDropdown === 'tzr'">
                <div v-for="region in tzRegions">
                    <label :for="'TZR-' + region">
                        <input type="radio" :id="'TZR-' + region" :value="region" v-model="gSettings.tzRegion" class="hidden">
                        <span>{{ region === 'Etc' ? 'GMT Offsets' : region }}</span>
                    </label>
                    <br>
                </div>
            </div>
        </div>
        <span class="key">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timezone:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'tz' ? null : 'tz'">
                    <span v-if="!gSettings.tz">Choose a timezone...</span>
                    <div v-if="gSettings.tz">
                        <span>{{ gSettings.tz }}</span>
                    </div>
                </button>
            </div>
            <div class="dd-content" v-show="openDropdown === 'tz'">
                <div v-for="tz in tzs" v-show="tz.region === gSettings.tzRegion">
                    <label :for="'TZ-' + tz.id">
                        <input type="radio" :id="'TZ-' + tz.id" :value="tz.id" v-model="gSettings.tz" class="hidden">
                        <span>{{ tz.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="!gSettings.tzRegion">
                    <span class="gray">Select a region first!</span>
                </div>
            </div>
        </div>
        <span class="info">The timezone used for formatting dates in mod logs and other commands.</span>
    </div>
</div><div id="welcome" v-if="selectedGuildID && column === 'welcome'">
    <div class="header">
        <span class="bold">Welcome messages</span>
    </div>
    <div class="setting">
        <div class="columns">
            <div class="column">
                <span class="key">Variables</span>
                <span class="info">
                    You can use variables such as <span class="code">{user}</span>, <span class="code">{member}</span>, and <span class="code">{server}</span> in the following messages.
                    <br>
                    More details about the variables can be found on <a href="https://benderbot.co/commands#welcome" target="_blank">the commands website</a>.
                </span>
            </div>
            <div class="column">
                <span class="key">Channel:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'welcome-chan' ? null : 'welcome-chan'">
                            <span v-if="!gSettings.memberLog.channel" class="channel-icon">#</span>
                            <span v-if="!gSettings.memberLog.channel">Choose a channel...</span>
                            <div v-if="gSettings.memberLog.channel">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.memberLog.channel).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'welcome-chan'" class="dd-content">
                        <div><label for="WC-none">
                            <input type="radio" id="WC-none" value="" v-model="gSettings.memberLog.channel" class="hidden">
                            <span class="channel-icon">❓</span>
                            <span class="channel-name">None</span>
                        </label><br></div>
                        <div v-for="chan in gChannels">
                            <label :for="'WC-' + chan.id">
                                <input type="radio" :id="'WC-' + chan.id" :value="chan.id" v-model="gSettings.memberLog.channel" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <br>
                        </div>
                        <div v-if="gChannels.length === 0">
                            <span class="gray">No eligible channels.</span>
                        </div>
                    </div>
                </div>
                <span class="info">The channel where all of the following messages will be sent (except welcome DM.) Unset to disable all of these messages.</span>
            </div>
        </div>
        <div class="smallToggle">
            <span class="key">Edit</span>
            <label class="switch small">
                <input type="checkbox" v-model="previewEnabled">
                <span class="slider round"></span>
            </label>
            <span class="key">&nbsp;&nbsp;Preview</span>
        </div>
    </div>
    <div class="text-setting">
        <span class="key">Welcome DM:</span>
        <textarea v-show="!previewEnabled" placeholder="Example: Welcome to {server}, please read the rules and enjoy!" v-model="gSettings.memberLog['join-dm']">{{ gSettings.memberLog['join-dm'] }}</textarea>
        <div v-show="previewEnabled" v-html="parseMD(gSettings.memberLog['join-dm'] || '')"></div>
        <span class="info">Message sent to a user's DM when they join the server.</span>
    </div>
    <div class="text-setting">
        <span class="key">Welcome message:</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.join" placeholder="Example: Welcome to {server}, {member}!">{{ gSettings.memberLog.join }}</textarea>
        <div v-show="previewEnabled" v-html="parseMD(gSettings.memberLog.join || '')"></div>
        <span class="info">Message sent when someone joins the server.</span>
    </div>
    <div class="text-setting">
        <span class="key">Leave message:</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.leave" placeholder="Example: Goodbye {user}, we won't miss you!">{{ gSettings.memberLog.leave }}</textarea>
        <div v-show="previewEnabled" v-html="parseMD(gSettings.memberLog.leave || '')"></div>
        <span class="info">Message sent when someone leaves the server.</span>
    </div>
    <div class="text-setting">
        <span class="key">Ban message:</span>
        <textarea v-show="!previewEnabled" v-model="gSettings.memberLog.ban" placeholder="Example: {user} was unable to follow the rules and has been banned!">{{ gSettings.memberLog.ban }}</textarea>
        <div v-show="previewEnabled" v-html="parseMD(gSettings.memberLog.ban || '')"></div>
        <span class="info">Message sent when someone is banned from the server.</span>
    </div>
</div><div id="selfroles" v-if="selectedGuildID && column === 'selfroles'">
    <div class="header">
        <span class="bold">Selfroles</span>
    </div>
    <div class="setting">
        <span class="info">Mark roles as joinable, so members can use <span class="code">;roleme</span> to add that role to themselves.</span>
        <table class="table is-narrow" id="joinables"><tbody>
            <tr>
                <th>Role</th>
                <th>Joinable</th>
                <th>Leavable</th>
            </tr>
            <tr v-for="role in gRoles" v-if="role.id !== selectedGuildID">
                <td>
                    <span class="role-icon" :style="role.cssColor">@</span>
                    <span class="role-name" :style="role.cssColor">{{ role.name }}</span>
                </td>
                <td>
                    <label class="switch small">
                        <input type="checkbox" v-model="gSettings.joinables[role.id].j">
                        <span class="slider round"></span>
                    </label>
                </td>
                <td>
                    <label class="switch small">
                        <input type="checkbox" v-model="gSettings.joinables[role.id].l">
                        <span class="slider round"></span>
                    </label>
                </td>
            </tr>
            <tr v-if="gRoles.length === 0">
                <td><span class="gray">No suitable roles.</span></td>
            </tr>
        </tbody></table>
    </div>
</div><div id="agreement" v-if="selectedGuildID && column === 'agreement'">
    <div class="header">
        <span class="bold">Agreement</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.agreement.enabled">
            <span class="slider round"></span>
        </label>
    </div>
    <div class="columns">
    <div class="setting column">
        <span class="key">Channel:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'agr-chan' ? null : 'agr-chan'">
                    <span v-if="!gSettings.agreement.channel" class="channel-icon">#</span>
                    <span v-if="!gSettings.agreement.channel">Choose a channel...</span>
                    <div v-if="gSettings.agreement.channel">
                        <span class="channel-icon">#</span>
                        <span>{{ getChannel(gSettings.agreement.channel).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'agr-chan'" class="dd-content">
                <div><label for="AG-unset">
                    <input type="radio" id="AG-unset" value="" v-model="gSettings.agreement.channel" class="hidden">
                    <span class="channel-icon">❓</span>
                    <span class="channel-name">None</span>
                </label><br></div>
                <div v-for="chan in gChannels">
                    <label :for="'AG-' + chan.id">
                        <input type="radio" :id="'AG-' + chan.id" :value="chan.id" v-model="gSettings.agreement.channel" class="hidden">
                        <span class="channel-icon">#</span>
                        <span>{{ chan.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="gChannels.length === 0">
                    <span class="gray">No eligible channels.</span>
                </div>
            </div>
        </div>
        <span class="info">This is the channel you should paste your TOS/rules into. Members should be able to type ;agree here to agree to the terms. Any messages not pinned and newer than 2 weeks will be periodically purged.</span>
    </div>
    <div class="setting column">
        <span class="key">Role:</span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'agr-role' ? null : 'agr-role'">
                    <span v-if="!gSettings.agreement.role" class="role-icon">@</span>
                    <span v-if="!gSettings.agreement.role">Choose a role...</span>
                    <div v-if="gSettings.agreement.role">
                        <span class="role-icon">@</span>
                        <span :style="getRole(gSettings.agreement.role).cssColor">{{ getRole(gSettings.agreement.role).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'agr-role'" class="dd-content">
                <div><label for="AG-none">
                    <input type="radio" id="AG-none" value="" v-model="gSettings.agreement.role" class="hidden">
                    <span class="role-icon">❓</span>
                    <span class="role-name">None</span>
                </label><br></div>
                <div v-for="role in gRoles">
                    <label :for="'AG-' + role.id">
                        <input type="radio" :id="'AG-' + role.id" :value="role.id" v-model="gSettings.agreement.role" class="hidden">
                        <span :style="role.cssColor" class="role-icon">@</span>
                        <span :style="role.cssColor">{{ role.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="gRoles.length === 0">
                    <span class="gray">No eligible roles.</span>
                </div>
            </div>
        </div>
        <span class="info">Upon joining the server, members will receive this role. It should restrict them from typing in any channels except the agreement channel.</span>
    </div>
    </div>
    <div class="text-setting">
        <span class="key">Message:</span>
        <div class="smallToggle">
            <span class="key">Edit</span>
            <label class="switch small">
                <input type="checkbox" v-model="previewEnabled">
                <span class="slider round"></span>
            </label>
            <span class="key">&nbsp;&nbsp;Preview</span>
        </div>
        <textarea v-show="!previewEnabled" placeholder="Message for new users" v-model="gSettings.agreement.message">{{ gSettings.agreement.message }}</textarea>
        <div v-show="previewEnabled" v-html="parseMD(gSettings.agreement.message || '')"></div>
        <span class="info">If specified, this message will be sent as a DM when a new user joins. It should contain server info, how to agree to the server rules, etc.</span>
    </div>
    <div class="time-setting">
        <span class="key">Wait time:</span>
        <input type="number" placeholder="5" v-model="gSettings.agreement.wait">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.waitH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">How long someone must be a member of the server to be able to use ;agree. Default is 5 minutes. Settings to 0 means they do not have to wait.</span>
    </div>
    <div class="time-setting">
        <span class="key">Warn time:</span>
        <input type="number" placeholder="5" v-model="gSettings.agreement.warn">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.warnH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">When a user will be warned, if they have not yet agreed. Default is 1 hour. Set to 0 to disable.</span>
    </div>
    <div class="time-setting">
        <span class="key">Kick time:</span>
        <input type="number" placeholder="5" v-model="gSettings.agreement.kick">
        <span>minutes</span>
        <label class="switch small">
            <input type="checkbox" v-model="gSettings.agreement.kickH">
            <span class="slider round"></span>
        </label>
        <span>hours</span>
        <span class="info">When a user will be kicked from the server, if they have not yet agreed. Default is 2 hours. Set to 0 to disable.</span>
    </div>
</div><div id="logging" v-if="selectedGuildID && column === 'logging'">
    <div class="header">
        <span class="bold">Logging Settings</span>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Channel:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'log-chan' ? null : 'log-chan'">
                        <span v-if="!gSettings.logging.channel" class="channel-icon">#</span>
                        <span v-if="!gSettings.logging.channel">Choose a channel...</span>
                        <div v-if="gSettings.logging.channel">
                            <span class="channel-icon">#</span>
                            <span>{{ getChannel(gSettings.logging.channel).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'log-chan'" class="dd-content">
                    <div><label for="LG-none">
                        <input type="radio" id="LG-none" value="" v-model="gSettings.logging.channel" class="hidden">
                        <span class="channel-icon">❓</span>
                        <span class="channel-name">None</span>
                    </label><br></div>
                    <div v-for="chan in gChannels">
                        <label :for="'LG-' + chan.id">
                            <input type="radio" :id="'LG-' + chan.id" :value="chan.id" v-model="gSettings.logging.channel" class="hidden">
                            <span class="channel-icon">#</span>
                            <span>{{ chan.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gChannels.length === 0">
                        <span class="gray">No eligible channels.</span>
                    </div>
                </div>
            </div>
            <span class="info">Channel where all moderation logs are sent, and where deleted/edited message/command logging are sent if an alternate channel is not chosen.</span>
        </div>
        <div class="bool-setting column">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging.cases">
                <span class="slider round"></span>
            </label>
            <span class="key">Enable mod-logging cases</span>
            <span class="info">Whether to save moderation logs in the database, with each one assigned a case number. Also allows the use of <span class="code">;reason</span> and viewing all mod logs for a user.</span>
        </div>
    </div>
    <div class="setting">
        <span class="key">Commands logged:</span>
        <br>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-ban']">
                <span class="slider round"></span>
            </label>
            <span class="code">;ban</span> + automatic bans
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-unban']">
                <span class="slider round"></span>
            </label>
            <span class="code">;unban</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-mute']">
                <span class="slider round"></span>
            </label>
            <span class="code">;mute</span> + automatic mutes
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-unmute']">
                <span class="slider round"></span>
            </label>
            <span class="code">;unmute</span> + automatic unmutes
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-kick']">
                <span class="slider round"></span>
            </label>
            <span class="code">;kick</span> + automatic kicks
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-role']">
                <span class="slider round"></span>
            </label>
            <span class="code">;role</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-purge']">
                <span class="slider round"></span>
            </label>
            <span class="code">;purge</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-warn']">
                <span class="slider round"></span>
            </label>
            <span class="code">;warn</span>
        </div>
        <div class="log-cmd">
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.logging['cmd-clonerole']">
                <span class="slider round"></span>
            </label>
            <span class="code">;clonerole</span>
        </div>
    </div>
    <div class="time-setting">
        <div class="level">
            <div class="setting">
                <span class="key">Deleted message logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'dml-chan' ? null : 'dml-chan'">
                            <span v-if="!gSettings.logging.deleted" class="channel-icon">#</span>
                            <span v-if="!gSettings.logging.deleted">Choose a channel...</span>
                            <div v-if="gSettings.logging.deleted">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.deleted).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'dml-chan'" class="dd-content">
                        <div><label for="DML-true">
                            <input type="radio" id="DML-true" :value="true" v-model="gSettings.logging.deleted" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label><br></div>
                        <div><label for="DML-false">
                            <input type="radio" id="DML-false" :value="false" v-model="gSettings.logging.deleted" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label><br></div>
                        <div v-for="chan in gChannels">
                            <label :for="'DML-' + chan.id">
                                <input type="radio" :id="'DML-' + chan.id" :value="chan.id" v-model="gSettings.logging.deleted" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <div class="setting">
                <span class="key">Edited message logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'eml-chan' ? null : 'eml-chan'">
                            <span v-if="!gSettings.logging.edited" class="channel-icon">#</span>
                            <span v-if="!gSettings.logging.edited">Choose a channel...</span>
                            <div v-if="gSettings.logging.edited">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.edited).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'eml-chan'" class="dd-content">
                        <div><label for="EML-true">
                            <input type="radio" id="EML-true" :value="true" v-model="gSettings.logging.edited" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label><br></div>
                        <div><label for="EML-false">
                            <input type="radio" id="EML-false" :value="false" v-model="gSettings.logging.edited" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label><br></div>
                        <div v-for="chan in gChannels">
                            <label :for="'EML-' + chan.id">
                                <input type="radio" :id="'EML-' + chan.id" :value="chan.id" v-model="gSettings.logging.edited" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <div class="setting">
                <span class="key">Command logging:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'cml-chan' ? null : 'cml-chan'">
                            <span v-if="!gSettings.logging.commands" class="channel-icon">#</span>
                            <span v-if="!gSettings.logging.commands">Choose a channel...</span>
                            <div v-if="gSettings.logging.commands">
                                <span class="channel-icon">#</span>
                                <span>{{ getChannel(gSettings.logging.commands).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'cml-chan'" class="dd-content">
                        <div><label for="CML-true">
                            <input type="radio" id="CML-true" :value="true" v-model="gSettings.logging.commands" class="hidden">
                            <span class="channel-icon">✅</span>
                            <span class="channel-name">Enabled</span>
                        </label><br></div>
                        <div><label for="CML-false">
                            <input type="radio" id="CML-false" :value="false" v-model="gSettings.logging.commands" class="hidden">
                            <span class="channel-icon">❌</span>
                            <span class="channel-name">Disabled</span>
                        </label><br></div>
                        <div v-for="chan in gChannels">
                            <label :for="'CML-' + chan.id">
                                <input type="radio" :id="'CML-' + chan.id" :value="chan.id" v-model="gSettings.logging.commands" class="hidden">
                                <span class="channel-icon">#</span>
                                <span>{{ chan.name }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div><div id="tags" v-if="selectedGuildID && column === 'tags'">
    <div class="header"><span class="bold">Tags</span></div>
    <span class="info">Tags are used like simple commands; if you use Bender's prefix + the tag name, you get a response.<br>For example, you could make a tag "hello" with the response "world." Details about variables you can use, i.e. <span class="code">{args}</span>, can be found <a href="https://benderbot.co/commands#tag" target="_blank">here.</a></span>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="tag_list" class="table wide-table"><tbody>
        <tr>
            <th>Tag Name</th>
            <th>Tag Content</th>
        </tr>
        <tr v-for="(content, name) in gSettings.tags">
            <td><span class="csfont">{{ (gSettings.prefix || ';') + name }}</span></td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.tags[name]">{{ content }}</textarea>
                <div v-show="previewEnabled" v-html="parseMD(content)"></div>
            </td>
            <td><a @click="delete('tag', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.tags) === 0">
            <td><span class="gray">No tags added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.tags) < 50">
        <div class="group">
            <div>
                <span class="key">Add a new tag:</span> <input :class="temp.tag_name && aliasMap[temp.tag_name.toLowerCase()] ? 'error' : ''" type="text" placeholder="New tag name" v-model="temp.tag_name">
            </div>
            <span v-if="temp.tag_name && aliasMap[temp.tag_name.toLowerCase()]" class="error">Tags cannot have the same name as commands.</span>
        </div>
        <textarea placeholder="New tag content" v-model="temp.tag_content">{{ temp.tag_content }}</textarea>
        <button class="button add" @click="add('tag')" :disabled="!temp.tag_name || !temp.tag_content || aliasMap[temp.tag_name.toLowerCase()]">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of tags reached; Cannot add more.</span>
</div><div id="modlog" v-if="selectedGuildID && column === 'modlog'">
    <div class="header"><span class="bold">Mod Log</span></div>
    <div class="setting" v-if="getLen(gSettings.modlog) > 0">
        <span class="gray">{{ getLen(gSettings.modlog) }} case{{ getLen(gSettings.modlog) > 1 ? 's' : '' }} on record.</span>
        <span class="key">Search case:</span> <input id="search-input" type="text" placeholder="Case" v-model="searchValue">
    </div>
    <div class="setting" v-else><span class="gray">No mod logs yet.</span></div>
    <table id="modlog_list" class="table wide-table"><tbody>
        <tr>
            <th>Case #</th>
            <th>Type</th>
            <th>User ID</th>
            <th>Issuer ID</th>
            <th>Reason</th>
            <th>Time</th>
        </tr>
        <!-- the following check: if a search value is entered AND one of the following: -->
        <!-- case number = number entered -->
        <!-- reason includes the search string -->
        <!-- ID was resolved to a tag and the tag includes the search string -->
        <tr v-for="(data, key, index) in gSettings.modlog" v-show="!searchValue || (searchValue.match(/^\d+$/) && (index+1)+'' === searchValue) || (!searchValue.match(/^\d+$/) && data.extras && data.extras.reason && data.extras.reason.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1) || (!searchValue.match(/^\d+$/) && resolveUser(data.target) !== data.target && resolveUser(data.target).toLowerCase().indexOf(searchValue.toLowerCase()) !== -1)">
            <td>{{ index+1 }}</td>
            <td class="modlog-action">{{ data.action.replace('cmd-', '') }}</td>
            <td v-html="resolveUser(data.target)"></td>
            <td v-html="resolveUser(data.moderator)"></td>
            <td v-html="data.extras ? data.extras.reason ? parseMD(data.extras.reason) : '&amp;lt;not provided&amp;gt;' : '&amp;lt;not provided&amp;gt;'"></td>
            <td>{{ gSettings.tzRegion && gSettings.tz ? moment(data.timestamp).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.timestamp).format('MMM Do YYYY, h:mma z') }}</td>
        </tr>
    </tbody></table>
</div><div id="aliases" v-if="selectedGuildID && column === 'aliases'">
    <div class="header"><span class="bold">Aliases</span></div>
    <span class="info">Aliases are used to give commands an alternative name.</span>
    <table id="aliases_list" class="table wide-table"><tbody>
        <tr>
            <th>Alias</th>
            <th>Command</th>
        </tr>
        <tr v-for="(command, name) in gSettings.aliases">
            <td><span class="csfont">{{ (gSettings.prefix || ';') + name }}</span></td>
            <td><span class="code">{{ (gSettings.prefix || ';') + command }}</span></td>
            <td><a @click="delete('alias', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.aliases) === 0">
            <td><span class="gray">No aliases added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.aliases) < 50">
        <span class="key">Add a new alias:</span>
        <div class="dd">
            <div class="dd-trigger">
                <div class="button" @click="openDropdown = openDropdown === 'alias' ? null : 'alias'">
                    <span v-if="!temp.alias_content">Choose a command...</span>
                    <div v-if="temp.alias_content">
                        <span class="csfont">{{ (gSettings.prefix || ';') + temp.alias_content }}</span>
                    </div>
                </div>
            </div>
            <div class="dd-content" v-show="openDropdown === 'alias'">
                <div v-for="(data, group) in commandList">
                    <span class="gray">{{ groupNames[group] }}</span>
                    <label v-for="(aliases, command) in data" :for="'AL-' + command">
                        <input type="radio" :id="'AL-' + command" :value="command" v-model="temp.alias_content" class="hidden">
                        <span class="csfont">{{ (gSettings.prefix || ';')+command }}</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="group">
            <div>
                <input :class="temp.alias_name && aliasMap[temp.alias_name.toLowerCase()] ? 'error' : ''" type="text" placeholder="New alias name" v-model="temp.alias_name">
            </div>
            <span v-if="temp.alias_name && aliasMap[temp.alias_name.toLowerCase()]" class="error">Aliases cannot have the same name<br>as other commands.</span>
        </div>
        <button class="button add" @click="add('alias')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of aliases reached; Cannot add more.</span>
</div><div id="mutes" v-if="selectedGuildID && column === 'mutes'">
    <div class="header">
        <span class="bold">Mutes</span>
    </div>
    <div class="setting" v-if="getLen(gSettings.mutes, ['role', 'default']) > 0">
        <span class="key">There {{ getLen(gSettings.mutes, ['role', 'default']) > 1 ? 'are' : 'is' }} currently {{ getLen(gSettings.mutes, ['role', 'default']) }} active mute{{ getLen(gSettings.mutes, ['role', 'default']) > 1 ? 's' : '' }}.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No active mutes currently.</span>
    </div>
    <table id="mutes_list" class="table wide-table"><tbody>
        <tr>
            <th>User ID</th>
            <th>Issuer ID</th>
            <th>Ends at</th>
            <th>Reason</th>
        </tr>
        <tr v-for="(data, userID) in gSettings.mutes" v-if="userID !== 'role' && userID !== 'default'">
            <td v-html="resolveUser(userID)"></td>
            <td v-html="resolveUser(data.issuer)"></td>
            <td>{{ gSettings.tzRegion && gSettings.tz ? moment(data.timestamp).tz(`${gSettings.tzRegion}/${gSettings.tz}`).format('MMM Do YYYY, h:mma z') : moment(data.timestamp).format('MMM Do YYYY, h:mma z') }}</td>
            <td>{{ data.reason }}</td>
        </tr>
    </tbody></table>
</div><div id="filter" v-if="selectedGuildID && column === 'filter'">
    <div class="header">
        <span class="bold">Filter</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.filter.enabled">
            <span class="slider round"></span>
        </label>
    </div>
    <div class="box is-warning" v-if="gSettings.filter.enabled && !gSettings.automod.enabled">
        <span class="gray">Filter is not currently enabled because <a href="#automod">automod</a> is disabled.</span>
    </div>
    <span class="info">The filter is used to prevent members from typing certain words/phrases in chat.<br>It works using standard JavaScript regex syntax. For more info, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_meaning_in_regular_expressions" target="_blank">this page.</a></span>
    <br>
    <br>
    <div class="columns">
        <div class="column">
            <span class="key">Actions:</span>
            <span v-for="num in [1,2,3]">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'faction'+num ? null : 'faction'+num">
                            <span v-if="!gSettings.filter['action'+num]">Warn</span>
                            <div v-if="gSettings.filter['action'+num]">
                                <span>{{ gSettings.filter['action'+num].substr(0,1).toUpperCase() + gSettings.filter['action'+num].substr(1) }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'faction'+num" class="dd-content">
                        <div><label :for="'faction'+num+'-warn'">
                            <input type="radio" :id="'faction'+num+'-warn'" value="warn" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Warn</span>
                        </label><br></div>
                        <div><label :for="'faction'+num+'-mute'">
                            <input type="radio" :id="'faction'+num+'-mute'" value="mute" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Mute</span>
                        </label><br></div>
                        <div><label :for="'faction'+num+'-kick'">
                            <input type="radio" :id="'faction'+num+'-kick'" value="kick" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Kick</span>
                        </label><br></div>
                        <div><label :for="'faction'+num+'-ban'">
                            <input type="radio" :id="'faction'+num+'-ban'" value="ban" v-model="gSettings.filter['action'+num]" class="hidden">
                            <span>Ban</span>
                        </label><br></div>
                    </div>
                </div>
                <span v-if="num !== 3" class="key">&nbsp;&gt;&gt;</span>
            </span>
        </div>
        <div class="column">
            <span class="key">Message:</span>
            <textarea v-show="!previewEnabled" placeholder="Blacklisted phrase" v-model="gSettings.filter.message">{{ gSettings.filter.message }}</textarea>
            <div v-show="previewEnabled" v-html="parseMD(gSettings.filter.message || '')"></div>
            <span class="info">This message will be shown whenever a user violates the filter and a message is removed.</span>
        </div>
    </div>
    <br>
    <div class="setting">
        <span class="key">Ignore members by </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'filter-ign' ? null : 'filter-ign'">
                    <div v-if="gSettings.ignore.filter.type">
                        <span>{{ ignorePermsTypes[gSettings.ignore.filter.type] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'filter-ign'" class="dd-content">
                <div><label for="filter-ign-0">
                    <input type="radio" id="filter-ign-0" value="none" v-model="gSettings.ignore.filter.type" class="hidden">
                    <span>None</span>
                </label><br></div>
                <div><label for="filter-ign-1">
                    <input type="radio" id="filter-ign-1" value="role_hier" v-model="gSettings.ignore.filter.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_hier }}</span>
                </label><br></div>
                <div><label for="filter-ign-2">
                    <input type="radio" id="filter-ign-2" value="role_list" v-model="gSettings.ignore.filter.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_list }}</span>
                </label><br></div>
                <div><label for="filter-ign-3">
                    <input type="radio" id="filter-ign-3" value="discord_perm" v-model="gSettings.ignore.filter.type" class="hidden">
                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                </label><br></div>
            </div>
        </div>
        <span class="key">: </span>
        <div class="dd" v-if="gSettings.ignore.filter.type === 'role_hier'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'filter-ign-roleh' ? null : 'filter-ign-roleh'">
                    <span v-if="!gSettings.ignore.filter.data" class="role-icon">@</span>
                    <span v-if="!gSettings.ignore.filter.data">Choose a role...</span>
                    <div v-if="gSettings.ignore.filter.data">
                        <span class="role-icon">@</span>
                        <span :style="getRole(gSettings.ignore.filter.data).cssColor">{{ getRole(gSettings.ignore.filter.data).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'filter-ign-roleh'" class="dd-content">
                <div v-for="role in gRoles">
                    <label :for="'FIIH-' + role.id">
                        <input type="radio" :id="'FIIH-' + role.id" :value="role.id" v-model="gSettings.ignore.filter.data" class="hidden">
                        <span :style="role.cssColor" class="role-icon">@</span>
                        <span :style="role.cssColor">{{ role.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="gRoles.length === 0">
                    <span class="gray">No eligible roles.</span>
                </div>
            </div>
        </div>
        <div class="dd" v-else-if="gSettings.ignore.filter.type === 'discord_perm'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'filter-ign-dis' ? null : 'filter-ign-dis'">
                    <span v-if="!gSettings.ignore.filter.data">Choose a Discord permission...</span>
                    <div v-if="gSettings.ignore.filter.data">{{ discordPermissionNames[gSettings.ignore.filter.data] }}</div>
                </button>
            </div>
            <div v-show="openDropdown === 'filter-ign-dis'" class="dd-content">
                <div v-for="(permName, permID) in discordPermissionNames">
                    <label :for="'FIID-' + permID">
                        <input type="radio" :id="'FIID-' + permID" :value="permID" v-model="gSettings.ignore.filter.data" class="hidden">
                        <span>{{ permName }}</span>
                    </label>
                    <br>
                </div>
            </div>
        </div>
        <span v-else>
            <div class="guild box" v-for="(roleID, index) in gSettings.ignore.filter.data">
                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                <a @click="delete('fil', index)" class="remove"></a>
            </div>
            <div v-if="!gSettings.ignore.filter.data || gSettings.ignore.filter.data.length === 0">
                <span class="gray">No roles selected.</span>
            </div>
            <span class="key">Add a role:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'filter-ign-rolel' ? null : 'filter-ign-rolel'">
                        <span v-if="!temp.fil" class="role-icon">@</span>
                        <span v-if="!temp.fil">Choose a role...</span>
                        <div v-if="temp.fil">
                            <span class="role-icon">@</span>
                            <span :style="getRole(temp.fil).cssColor">{{ getRole(temp.fil).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'filter-ign-rolel'" class="dd-content">
                    <div v-for="role in gRoles">
                        <label :for="'FILL-' + role.id">
                            <input type="radio" :id="'FILL-' + role.id" :value="role.id" v-model="temp.fil" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('fil')" :disabled="!temp.fil">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </span>
    </div>
    <br>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="filter_list" class="table wide-table"><tbody>
        <tr>
            <th>#</th>
            <th>Pattern</th>
        </tr>
        <tr v-for="(pattern, index) in gSettings.filter.patterns">
            <td>{{ index+1 }}</td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.filter.patterns[index]">{{ pattern }}</textarea>
                <div v-show="previewEnabled" class="regex" v-html="hlRegex(pattern)"></div>
            </td>
            <td><a @click="delete('filter', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.filter.patterns) === 0">
            <td><span class="gray">No filter patterns added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.filter.patterns) < 20">
        <span class="key">Add a new pattern:</span>
        <textarea id="new-pattern" placeholder="New filter item" v-model="temp.filter">{{ temp.filter }}</textarea>
        <button class="button add" @click="add('filter')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of items reached (20); Cannot add more.</span>
</div><div id="namefilter" v-if="selectedGuildID && column === 'namefilter'">
    <div class="header">
        <span class="bold">Name Filter</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.namefilter.enabled">
            <span class="slider round"></span>
        </label>
    </div>
    <span class="info">Automatically bans any members with names that match the patterns you add below. Uses <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Special_characters_meaning_in_regular_expressions" target="_blank">JavaScript regex syntax</a>.</span>
    <br>
    <br>
    <div class="setting">
        <span class="key">Ignore members by </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign' ? null : 'namefilter-ign'">
                    <div v-if="gSettings.ignore.names.type">
                        <span>{{ ignorePermsTypes[gSettings.ignore.names.type] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'namefilter-ign'" class="dd-content">
                <div><label for="namefilter-ign-0">
                    <input type="radio" id="namefilter-ign-0" value="none" v-model="gSettings.ignore.names.type" class="hidden">
                    <span>None</span>
                </label><br></div>
                <div><label for="namefilter-ign-1">
                    <input type="radio" id="namefilter-ign-1" value="role_hier" v-model="gSettings.ignore.names.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_hier }}</span>
                </label><br></div>
                <div><label for="namefilter-ign-2">
                    <input type="radio" id="namefilter-ign-2" value="role_list" v-model="gSettings.ignore.names.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_list }}</span>
                </label><br></div>
                <div><label for="namefilter-ign-3">
                    <input type="radio" id="namefilter-ign-3" value="discord_perm" v-model="gSettings.ignore.names.type" class="hidden">
                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                </label><br></div>
            </div>
        </div>
        <span class="key">: </span>
        <div class="dd" v-if="gSettings.ignore.names.type === 'role_hier'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-roleh' ? null : 'namefilter-ign-roleh'">
                    <span v-if="!gSettings.ignore.names.data" class="role-icon">@</span>
                    <span v-if="!gSettings.ignore.names.data">Choose a role...</span>
                    <div v-if="gSettings.ignore.names.data">
                        <span class="role-icon">@</span>
                        <span :style="getRole(gSettings.ignore.names.data).cssColor">{{ getRole(gSettings.ignore.names.data).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'namefilter-ign-roleh'" class="dd-content">
                <div v-for="role in gRoles">
                    <label :for="'NFIH-' + role.id">
                        <input type="radio" :id="'NFIH-' + role.id" :value="role.id" v-model="gSettings.ignore.names.data" class="hidden">
                        <span :style="role.cssColor" class="role-icon">@</span>
                        <span :style="role.cssColor">{{ role.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="gRoles.length === 0">
                    <span class="gray">No eligible roles.</span>
                </div>
            </div>
        </div>
        <div class="dd" v-else-if="gSettings.ignore.names.type === 'discord_perm'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-dis' ? null : 'namefilter-ign-dis'">
                    <span v-if="!gSettings.ignore.names.data">Choose a Discord permission...</span>
                    <div v-if="gSettings.ignore.names.data">{{ discordPermissionNames[gSettings.ignore.names.data] }}</div>
                </button>
            </div>
            <div v-show="openDropdown === 'namefilter-ign-dis'" class="dd-content">
                <div v-for="(permName, permID) in discordPermissionNames">
                    <label :for="'NFID-' + permID">
                        <input type="radio" :id="'NFID-' + permID" :value="permID" v-model="gSettings.ignore.names.data" class="hidden">
                        <span>{{ permName }}</span>
                    </label>
                    <br>
                </div>
            </div>
        </div>
        <span v-else>
            <div class="guild box" v-for="(roleID, index) in gSettings.ignore.names.data">
                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                <a @click="delete('nfil', index)" class="remove"></a>
            </div>
            <div v-if="!gSettings.ignore.names.data || gSettings.ignore.names.data.length === 0">
                <span class="gray">No roles selected.</span>
            </div>
            <span class="key">Add a role:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'namefilter-ign-rolel' ? null : 'namefilter-ign-rolel'">
                        <span v-if="!temp.nfil" class="role-icon">@</span>
                        <span v-if="!temp.nfil">Choose a role...</span>
                        <div v-if="temp.nfil">
                            <span class="role-icon">@</span>
                            <span :style="getRole(temp.nfil).cssColor">{{ getRole(temp.nfil).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'namefilter-ign-rolel'" class="dd-content">
                    <div v-for="role in gRoles">
                        <label :for="'NFIL-' + role.id">
                            <input type="radio" :id="'NFIL-' + role.id" :value="role.id" v-model="temp.nfil" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('nfil')" :disabled="!temp.nfil">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </span>
    </div>
    <br>
    <div>
        <span class="key">Edit</span>
        <label class="switch small">
            <input type="checkbox" v-model="previewEnabled">
            <span class="slider round"></span>
        </label>
        <span class="key">&nbsp;&nbsp;Preview</span>
    </div>
    <table id="namefilter_list" class="table wide-table"><tbody>
        <tr>
            <th>#</th>
            <th>Pattern</th>
        </tr>
        <tr v-for="(pattern, index) in gSettings.namefilter.patterns">
            <td>{{ index+1 }}</td>
            <td>
                <textarea v-show="!previewEnabled" v-model="gSettings.namefilter.patterns[index]">{{ pattern }}</textarea>
                <div v-show="previewEnabled" class="regex" v-html="hlRegex(pattern)"></div>
            </td>
            <td><a @click="delete('namefilter', name)" class="remove"></a></td>
        </tr>
        <tr v-if="getLen(gSettings.namefilter.patterns) === 0">
            <td><span class="gray">No name filter patterns added.</span></td>
        </tr>
    </tbody></table>
    <div class="setting" v-if="getLen(gSettings.namefilter.patterns) < 20">
        <span class="key">Add a new pattern:</span>
        <textarea id="new-namepattern" placeholder="New filter item" v-model="temp.namefilter">{{ temp.namefilter }}</textarea>
        <button class="button add" @click="add('namefilter')">
            <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
        </button>
    </div>
    <span v-else class="gray">Max number of items reached (20); Cannot add more.</span>
</div><div id="names" v-if="selectedGuildID && column === 'names'">
    <div class="header">
        <span class="bold">Name History</span>
    </div>
    <div class="setting" v-if="getLen(gSettings.nicknames) > 0">
        <span class="info">There {{ getLen(gSettings.nicknames) > 1 ? 'are' : 'is' }} currently {{ getLen(gSettings.nicknames) }} member{{ getLen(gSettings.nicknames) > 1 ? 's' : '' }} with name changes recorded.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No members with name changes recorded.</span>
    </div>
    <table id="name_history" class="table wide-table"><tbody>
        <tr>
            <th>User</th>
            <th>Nicknames</th>
            <th>Usernames</th>
        </tr>
        <tr v-for="(data, userID) in gSettings.nicknames">
            <td v-html="resolveUser(userID)"></td>
            <td>{{ data.join(', ') }}</td>
            <td>{{ gNames[userID] ?  gNames[userID].join(', ') : 'N/A' }}</td>
        </tr>
    </tbody></table>
</div><div id="giveaways" v-if="selectedGuildID && column === 'giveaways'">
    <div class="header">
        <span class="bold">Giveaways</span>
    </div>
    <div class="setting" v-if="getLen(gSettings.giveaways) > 0">
        <span class="info">There {{ getLen(gSettings.giveaways) > 1 ? 'are' : 'is' }} {{ getLen(gSettings.giveaways) }} active giveaway{{ getLen(gSettings.giveaways) > 1 ? 's' : '' }}.</span>
    </div>
    <div class="setting" v-else>
        <span class="gray">No active giveaways.</span>
    </div>
    <table id="giveaway_table" class="table wide-table"><tbody>
        <tr>
            <th>ID</th>
            <th>Created by</th>
            <th>Prize</th>
            <th>In channel</th>
            <th>Num. of winners</th>
        </tr>
        <tr v-for="(data, id) in gSettings.giveaways">
            <td>{{ id }}</td>
            <td v-html="resolveUser(data.creator)"></td>
            <td>{{ data.prize }}</td>
            <td v-html="parseMD('<#'+data.channel+'>')"></td>
            <td>{{ data.winners || 1 }}</td>
        </tr>
    </tbody></table>
</div><div id="cmdstatus" v-if="selectedGuildID && column === 'cmdstatus'">
    <div class="header">
        <span class="bold">Disabled Commands & Groups</span>
    </div>
    <table v-for="(data, group) in commandList" class="table skinny-table"><tbody>
        <tr>
            <th>{{ groupNames[group] }}</th>
            <th><label class="switch small">
                <input type="checkbox" v-model="gSettings.groupStatus[group]">
                <span class="slider round"></span>
            </label></th>
        </tr>
        <tr v-for="(aliases, command) in data" v-show="gSettings.groupStatus[group]">
            <td><span class="code">{{ (gSettings.prefix || ';')+command }}</span></td>
            <td><label class="switch small">
                <input type="checkbox" v-model="gSettings.commandStatus[command]">
                <span class="slider round"></span>
            </label></td>
        </tr>
    </tbody></table>
</div><div id="automod" v-if="selectedGuildID && column === 'automod'">
    <div class="header">
        <span class="bold">Automod</span>
        <label class="switch">
            <input type="checkbox" v-model="gSettings.automod.enabled">
            <span class="slider round"></span>
        </label>
    </div>
    <div class="setting text-setting" v-show="!gSettings.automod.enabled">
        <span class="key">Ignore members by </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'automod-ign' ? null : 'automod-ign'">
                    <div v-if="gSettings.automod.ignore.type">
                        <span>{{ ignorePermsTypes[gSettings.automod.ignore.type] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'automod-ign'" class="dd-content">
                <div><label for="automod-ign-0">
                    <input type="radio" id="automod-ign-0" value="none" v-model="gSettings.automod.ignore.type" class="hidden">
                    <span>None</span>
                </label><br></div>
                <div><label for="automod-ign-1">
                    <input type="radio" id="automod-ign-1" value="role_hier" v-model="gSettings.automod.ignore.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_hier }}</span>
                </label><br></div>
                <div><label for="automod-ign-2">
                    <input type="radio" id="automod-ign-2" value="role_list" v-model="gSettings.automod.ignore.type" class="hidden">
                    <span>{{ ignorePermsTypes.role_list }}</span>
                </label><br></div>
                <div><label for="automod-ign-3">
                    <input type="radio" id="automod-ign-3" value="discord_perm" v-model="gSettings.automod.ignore.type" class="hidden">
                    <span>{{ ignorePermsTypes.discord_perm }}</span>
                </label><br></div>
            </div>
        </div>
        <span class="key">: </span>
        <div class="dd" v-if="gSettings.automod.ignore.type === 'role_hier'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'automod-ign-roleh' ? null : 'automod-ign-roleh'">
                    <span v-if="!gSettings.automod.ignore.data" class="role-icon">@</span>
                    <span v-if="!gSettings.automod.ignore.data">Choose a role...</span>
                    <div v-if="gSettings.automod.ignore.data">
                        <span class="role-icon">@</span>
                        <span :style="getRole(gSettings.automod.ignore.data).cssColor">{{ getRole(gSettings.automod.ignore.data).name }}</span>
                    </div>
                </button>
            </div>
            <div v-show="openDropdown === 'automod-ign-roleh'" class="dd-content">
                <div v-for="role in gRoles">
                    <label :for="'AMIH-' + role.id">
                        <input type="radio" :id="'AMIH-' + role.id" :value="role.id" v-model="gSettings.automod.ignore.data" class="hidden">
                        <span :style="role.cssColor" class="role-icon">@</span>
                        <span :style="role.cssColor">{{ role.name }}</span>
                    </label>
                    <br>
                </div>
                <div v-if="gRoles.length === 0">
                    <span class="gray">No eligible roles.</span>
                </div>
            </div>
        </div>
        <div class="dd" v-else-if="gSettings.automod.ignore.type === 'discord_perm'">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'automod-ign-dis' ? null : 'automod-ign-dis'">
                    <span v-if="!gSettings.automod.ignore.data">Choose a Discord permission...</span>
                    <div v-if="gSettings.automod.ignore.data">{{ discordPermissionNames[gSettings.automod.ignore.data] }}</div>
                </button>
            </div>
            <div v-show="openDropdown === 'automod-ign-dis'" class="dd-content">
                <div v-for="(permName, permID) in discordPermissionNames">
                    <label :for="'AMID-' + permID">
                        <input type="radio" :id="'AMID-' + permID" :value="permID" v-model="gSettings.automod.ignore.data" class="hidden">
                        <span>{{ permName }}</span>
                    </label>
                    <br>
                </div>
            </div>
        </div>
        <span v-else>
            <div class="guild box" v-for="(roleID, index) in gSettings.automod.ignore.data">
                <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                <a @click="delete('amil', index)" class="remove"></a>
            </div>
            <div v-if="!gSettings.automod.ignore.data || gSettings.automod.ignore.data.length === 0">
                <span class="gray">No roles selected.</span>
            </div>
            <span class="key">Add a role:</span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'automod-ign-rolel' ? null : 'automod-ign-rolel'">
                        <span v-if="!temp.amil" class="role-icon">@</span>
                        <span v-if="!temp.amil">Choose a role...</span>
                        <div v-if="temp.amil">
                            <span class="role-icon">@</span>
                            <span :style="getRole(temp.amil).cssColor">{{ getRole(temp.amil).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'automod-ign-rolel'" class="dd-content">
                    <div v-for="role in gRoles">
                        <label :for="'AMIL-' + role.id">
                            <input type="radio" :id="'AMIL-' + role.id" :value="role.id" v-model="temp.amil" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <button class="button add" @click="add('amil')" :disabled="!temp.amil">
                <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
            </button>
        </span>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Allow invites:</span>
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.automod.allow_invites">
                <span class="slider round"></span>
            </label>
            <span class="info">When a user posts an invite to another Discord server, i.e. <a href="https://discord.gg/99xaeGn">https://discord.gg/99xaeGn</a>, the message will be removed and an automod violation will be issued.</span>
        </div>
        <div class="setting column" v-show="!gSettings.automod.allow_invites">
            <span class="key">Ignore invites from members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-inv' ? null : 'ign-inv'">
                        <div v-if="gSettings.ignore.invites.type">
                            <span>{{ ignorePermsTypes[gSettings.ignore.invites.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-inv'" class="dd-content">
                    <label for="ign-inv-0">
                        <input type="radio" id="ign-inv-0" value="none" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>None</span>
                    </label><br>
                    <label for="ign-inv-1">
                        <input type="radio" id="ign-inv-1" value="role_hier" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label><br>
                    <label for="ign-inv-2">
                        <input type="radio" id="ign-inv-2" value="role_list" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label><br>
                    <label for="ign-inv-3">
                        <input type="radio" id="ign-inv-3" value="discord_perm" v-model="gSettings.ignore.invites.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label><br>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.invites.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-inv-roleh' ? null : 'ign-inv-roleh'">
                        <span v-if="!gSettings.ignore.invites.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.invites.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.invites.data">
                            <span class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.invites.data).cssColor">{{ getRole(gSettings.ignore.invites.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-inv-roleh'" class="dd-content">
                    <div v-for="role in gRoles">
                        <label :for="'IIH-' + role.id">
                            <input type="radio" :id="'IIH-' + role.id" :value="role.id" v-model="gSettings.ignore.invites.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.invites.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-inv-dis' ? null : 'ign-inv-dis'">
                            <span v-if="!gSettings.ignore.invites.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.invites.data">{{ discordPermissionNames[gSettings.ignore.invites.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-inv-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'IID-' + permID">
                                <input type="radio" :id="'IID-' + permID" :value="permID" v-model="gSettings.ignore.invites.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else>
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.invites.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="delete('iil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.invites.data || gSettings.ignore.invites.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-inv-rolel' ? null : 'ign-inv-rolel'">
                            <span v-if="!temp.iil" class="role-icon">@</span>
                            <span v-if="!temp.iil">Choose a role...</span>
                            <div v-if="temp.iil">
                                <span class="role-icon">@</span>
                                <span :style="getRole(temp.iil).cssColor">{{ getRole(temp.iil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-inv-rolel'" class="dd-content">
                        <div v-for="role in gRoles">
                            <label :for="'IIL-' + role.id">
                                <input type="radio" :id="'IIL-' + role.id" :value="role.id" v-model="temp.iil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                            <br>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('iil')" :disabled="!temp.iil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
    </div>
    <div class="columns">
        <div class="setting column">
            <span class="key">Allow selfbots:</span>
            <label class="switch small">
                <input type="checkbox" v-model="gSettings.automod.selfbots">
                <span class="slider round"></span>
            </label>
            <span class="info">When someone uses a command on their selfbot and it is detected, the message will be removed and an automod violation will be issued.</span>
        </div>
        <div class="setting column" v-show="!gSettings.automod.selfbots">
            <span class="key">Ignore selfbots used by members by </span>
            <div class="dd">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-sfb' ? null : 'ign-sfb'">
                        <div v-if="gSettings.ignore.selfbots.type">
                            <span>{{ ignorePermsTypes[gSettings.ignore.selfbots.type] }}</span>
                        </div>
                        <span v-else>None</span>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-sfb'" class="dd-content">
                    <label for="ign-sfb-0">
                        <input type="radio" id="ign-sfb-0" value="none" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>None</span>
                    </label><br>
                    <label for="ign-sfb-1">
                        <input type="radio" id="ign-sfb-1" value="role_hier" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_hier }}</span>
                    </label><br>
                    <label for="ign-sfb-2">
                        <input type="radio" id="ign-sfb-2" value="role_list" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.role_list }}</span>
                    </label><br>
                    <label for="ign-sfb-3">
                        <input type="radio" id="ign-sfb-3" value="discord_perm" v-model="gSettings.ignore.selfbots.type" class="hidden">
                        <span>{{ ignorePermsTypes.discord_perm }}</span>
                    </label><br>
                </div>
            </div>
            <span class="key">: </span>
            <div class="dd" v-if="gSettings.ignore.selfbots.type === 'role_hier'">
                <div class="dd-trigger">
                    <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-roleh' ? null : 'ign-sfb-roleh'">
                        <span v-if="!gSettings.ignore.selfbots.data" class="role-icon">@</span>
                        <span v-if="!gSettings.ignore.selfbots.data">Choose a role...</span>
                        <div v-if="gSettings.ignore.selfbots.data">
                            <span class="role-icon">@</span>
                            <span :style="getRole(gSettings.ignore.selfbots.data).cssColor">{{ getRole(gSettings.ignore.selfbots.data).name }}</span>
                        </div>
                    </button>
                </div>
                <div v-show="openDropdown === 'ign-sfb-roleh'" class="dd-content">
                    <div v-for="role in gRoles">
                        <label :for="'SBIH-' + role.id">
                            <input type="radio" :id="'SBIH-' + role.id" :value="role.id" v-model="gSettings.ignore.selfbots.data" class="hidden">
                            <span :style="role.cssColor" class="role-icon">@</span>
                            <span :style="role.cssColor">{{ role.name }}</span>
                        </label>
                        <br>
                    </div>
                    <div v-if="gRoles.length === 0">
                        <span class="gray">No eligible roles.</span>
                    </div>
                </div>
            </div>
            <div v-else-if="gSettings.ignore.selfbots.type === 'discord_perm'">
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-dis' ? null : 'ign-sfb-dis'">
                            <span v-if="!gSettings.ignore.selfbots.data">Choose a Discord permission...</span>
                            <div v-if="gSettings.ignore.selfbots.data">{{ discordPermissionNames[gSettings.ignore.selfbots.data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-sfb-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="'SBID-' + permID">
                                <input type="radio" :id="'SBID-' + permID" :value="permID" v-model="gSettings.ignore.selfbots.data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <div v-else>
                <div class="guild box" v-for="(roleID, index) in gSettings.ignore.selfbots.data">
                    <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                    <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                    <a @click="delete('sbil', index)" class="remove"></a>
                </div>
                <div v-if="!gSettings.ignore.selfbots.data || gSettings.ignore.selfbots.data.length === 0">
                    <span class="gray">No roles selected.</span>
                </div>
                <br>
                <span class="key">Add a role:</span>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === 'ign-sfb-rolel' ? null : 'ign-sfb-rolel'">
                            <span v-if="!temp.sbil" class="role-icon">@</span>
                            <span v-if="!temp.sbil">Choose a role...</span>
                            <div v-if="temp.sbil">
                                <span class="role-icon">@</span>
                                <span :style="getRole(temp.sbil).cssColor">{{ getRole(temp.sbil).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === 'ign-sfb-rolel'" class="dd-content">
                        <div v-for="role in gRoles">
                            <label :for="'SBIL-' + role.id">
                                <input type="radio" :id="'SBIL-' + role.id" :value="role.id" v-model="temp.sbil" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                            <br>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <button class="button add" @click="add('sbil')" :disabled="!temp.sbil">
                    <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                </button>
            </div>
        </div>
    </div>
    <!-- TODO: do the rest of the automod/ignore settings -->
</div><div id="perms" v-if="selectedGuildID && column === 'perms'">
    <div class="header">
        <span class="bold">Permissions</span>
    </div>
    <div class="setting">
        <span class="key">Edit permissions for command group: </span>
        <div class="dd">
            <div class="dd-trigger">
                <button class="button" @click="openDropdown = openDropdown === 'perms-group-temp' ? null : 'perms-group-temp'">
                    <div v-if="temp.perms_group">
                        <span>{{ groupNames[temp.perms_group] }}</span>
                    </div>
                    <span v-else>None</span>
                </button>
            </div>
            <div v-show="openDropdown === 'perms-group-temp'" class="dd-content">
                <div v-for="(data, group) in commandList"><label :for="'perms-group-temp-' + group">
                    <input type="radio" :id="'perms-group-temp-' + group" :value="group" v-model="temp.perms_group" class="hidden">
                    <span>{{ groupNames[group] }}</span>
                </label><br></div>
            </div>
        </div>
    </div>
    <table v-for="(data, group) in commandList" class="table skinny-table" v-if="group === temp.perms_group"><tbody>
        <tr>
            <th>{{ groupNames[group] }}</th>
            <th><span class="gray" v-if="gSettings.groupStatus[group] === false">
                Group is disabled.
            </span><div v-else>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === group + '-perms' ? null : group + '-perms'">
                            <div v-if="gSettings.gperms[group].type">
                                <span>{{ ignorePermsTypes[gSettings.gperms[group].type] }}</span>
                            </div>
                            <span v-else>None</span>
                        </button>
                    </div>
                    <div v-show="openDropdown === group + '-perms'" class="dd-content">
                        <div><label :for="group + '-perms-0'">
                            <input type="radio" :id="group + '-perms-0'" value="none" v-model="gSettings.gperms[group].type" class="hidden">
                            <span>None</span>
                        </label><br></div>
                        <div><label :for="group + '-perms-1'">
                            <input type="radio" :id="group + '-perms-1'" value="role_hier" v-model="gSettings.gperms[group].type" class="hidden">
                            <span>{{ ignorePermsTypes.role_hier }}</span>
                        </label><br></div>
                        <div><label :for="group + '-perms-2'">
                            <input type="radio" :id="group + '-perms-2'" value="role_list" v-model="gSettings.gperms[group].type" class="hidden">
                            <span>{{ ignorePermsTypes.role_list }}</span>
                        </label><br></div>
                        <div><label :for="group + '-perms-3'">
                            <input type="radio" :id="group + '-perms-3'" value="discord_perm" v-model="gSettings.gperms[group].type" class="hidden">
                            <span>{{ ignorePermsTypes.discord_perm }}</span>
                        </label><br></div>
                    </div>
                </div>
                <span class="key">: </span>
                <div class="dd" v-if="gSettings.gperms[group].type === 'role_hier'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === group + '-perms-roleh' ? null : group + '-perms-roleh'">
                            <span v-if="!gSettings.gperms[group].data" class="role-icon">@</span>
                            <span v-if="!gSettings.gperms[group].data">Choose a role...</span>
                            <div v-if="gSettings.gperms[group].data">
                                <span class="role-icon">@</span>
                                <span :style="getRole(gSettings.gperms[group].data).cssColor">{{ getRole(gSettings.gperms[group].data).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === group + '-perms-roleh'" class="dd-content">
                        <div v-for="role in gRoles">
                            <label :for="group + '-PH-' + role.id">
                                <input type="radio" :id="group + '-PH-' + role.id" :value="role.id" v-model="gSettings.gperms[group].data" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                            <br>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <div class="dd" v-else-if="gSettings.gperms[group].type === 'discord_perm'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === group + '-perms-dis' ? null : group + '-perms-dis'">
                            <span v-if="!gSettings.gperms[group].data">Choose a Discord permission...</span>
                            <div v-if="gSettings.gperms[group].data">{{ discordPermissionNames[gSettings.gperms[group].data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === group + '-perms-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="group + '-PD-' + permID">
                                <input type="radio" :id="group + '-PD-' + permID" :value="permID" v-model="gSettings.gperms[group].data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
                <span v-else-if="gSettings.gperms[group].type">
                    <div class="guild box" v-for="(roleID, index) in gSettings.gperms[group].data">
                        <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                        <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                        <a @click="delete('pl-' + group, index)" class="remove"></a>
                    </div>
                    <div v-if="!gSettings.gperms[group].data || gSettings.gperms[group].data.length === 0">
                        <span class="gray">No roles selected.</span>
                    </div>
                    <span class="key">Add a role:</span>
                    <div class="dd">
                        <div class="dd-trigger">
                            <button class="button" @click="openDropdown = openDropdown === group + '-perms-rolel' ? null : group + '-perms-rolel'">
                                <span v-if="!temp['pl-' + group]" class="role-icon">@</span>
                                <span v-if="!temp['pl-' + group]">Choose a role...</span>
                                <div v-if="temp['pl-' + group]">
                                    <span class="role-icon">@</span>
                                    <span :style="getRole(temp['pl-' + group]).cssColor">{{ getRole(temp['pl-' + group]).name }}</span>
                                </div>
                            </button>
                        </div>
                        <div v-show="openDropdown === group + '-perms-rolel'" class="dd-content">
                            <div v-for="role in gRoles">
                                <label :for="group + '-PL-' + role.id">
                                    <input type="radio" :id="group + '-PL-' + role.id" :value="role.id" v-model="temp['pl-' + group]" class="hidden">
                                    <span :style="role.cssColor" class="role-icon">@</span>
                                    <span :style="role.cssColor">{{ role.name }}</span>
                                </label>
                                <br>
                            </div>
                            <div v-if="gRoles.length === 0">
                                <span class="gray">No eligible roles.</span>
                            </div>
                        </div>
                    </div>
                    <button class="button add" @click="add('pl-' + group)" :disabled="!temp['pl-' + group]">
                        <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                    </button>
                </span>
            </div></th>
        </tr>
        <tr v-for="(aliases, command) in data" v-show="gSettings.groupStatus[group]">
            <td><span class="code">{{ (gSettings.prefix || ';')+command }}</span></td>
            <td><span class="gray" v-if="gSettings.commandStatus[command] === false">
                Command is disabled.
            </span><div v-else>
                <div class="dd">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === command + '-perms' ? null : command + '-perms'">
                            <div v-if="gSettings.perms[command].type">
                                <span>{{ ignorePermsTypes[gSettings.perms[command].type] }}</span>
                            </div>
                            <span v-else>None</span>
                        </button>
                    </div>
                    <div v-show="openDropdown === command + '-perms'" class="dd-content">
                        <div><label :for="command + '-perms-0'">
                            <input type="radio" :id="command + '-perms-0'" value="none" v-model="gSettings.perms[command].type" class="hidden">
                            <span>None</span>
                        </label><br></div>
                        <div><label :for="command + '-perms-1'">
                            <input type="radio" :id="command + '-perms-1'" value="role_hier" v-model="gSettings.perms[command].type" class="hidden">
                            <span>{{ ignorePermsTypes.role_hier }}</span>
                        </label><br></div>
                        <div><label :for="command + '-perms-2'">
                            <input type="radio" :id="command + '-perms-2'" value="role_list" v-model="gSettings.perms[command].type" class="hidden">
                            <span>{{ ignorePermsTypes.role_list }}</span>
                        </label><br></div>
                        <div><label :for="command + '-perms-3'">
                            <input type="radio" :id="command + '-perms-3'" value="discord_perm" v-model="gSettings.perms[command].type" class="hidden">
                            <span>{{ ignorePermsTypes.discord_perm }}</span>
                        </label><br></div>
                    </div>
                </div>
                <span class="key">: </span>
                <div class="dd" v-if="gSettings.perms[command].type === 'role_hier'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === command + '-perms-roleh' ? null : command + '-perms-roleh'">
                            <span v-if="!gSettings.perms[command].data" class="role-icon">@</span>
                            <span v-if="!gSettings.perms[command].data">Choose a role...</span>
                            <div v-if="gSettings.perms[command].data">
                                <span class="role-icon">@</span>
                                <span :style="getRole(gSettings.perms[command].data).cssColor">{{ getRole(gSettings.perms[command].data).name }}</span>
                            </div>
                        </button>
                    </div>
                    <div v-show="openDropdown === command + '-perms-roleh'" class="dd-content">
                        <div v-for="role in gRoles">
                            <label :for="command + '-PH-' + role.id">
                                <input type="radio" :id="command + '-PH-' + role.id" :value="role.id" v-model="gSettings.perms[command].data" class="hidden">
                                <span :style="role.cssColor" class="role-icon">@</span>
                                <span :style="role.cssColor">{{ role.name }}</span>
                            </label>
                            <br>
                        </div>
                        <div v-if="gRoles.length === 0">
                            <span class="gray">No eligible roles.</span>
                        </div>
                    </div>
                </div>
                <div class="dd" v-else-if="gSettings.perms[command].type === 'discord_perm'">
                    <div class="dd-trigger">
                        <button class="button" @click="openDropdown = openDropdown === command + '-perms-dis' ? null : command + '-perms-dis'">
                            <span v-if="!gSettings.perms[command].data">Choose a Discord permission...</span>
                            <div v-if="gSettings.perms[command].data">{{ discordPermissionNames[gSettings.perms[command].data] }}</div>
                        </button>
                    </div>
                    <div v-show="openDropdown === command + '-perms-dis'" class="dd-content">
                        <div v-for="(permName, permID) in discordPermissionNames">
                            <label :for="command + '-PD-' + permID">
                                <input type="radio" :id="command + '-PD-' + permID" :value="permID" v-model="gSettings.perms[command].data" class="hidden">
                                <span>{{ permName }}</span>
                            </label>
                            <br>
                        </div>
                    </div>
                </div>
                <span v-else-if="gSettings.perms[command].type">
                    <div class="guild box" v-for="(roleID, index) in gSettings.perms[command].data">
                        <span :style="getRole(roleID).cssColor" class="role-icon">@</span>
                        <span :style="getRole(roleID).cssColor">{{ getRole(roleID).name }}</span>
                        <a @click="delete('pl-' + command, index)" class="remove"></a>
                    </div>
                    <div v-if="!gSettings.perms[command].data || gSettings.perms[command].data.length === 0">
                        <span class="gray">No roles selected.</span>
                    </div>
                    <span class="key">Add a role:</span>
                    <div class="dd">
                        <div class="dd-trigger">
                            <button class="button" @click="openDropdown = openDropdown === command + '-perms-rolel' ? null : command + '-perms-rolel'">
                                <span v-if="!temp['pl-' + command]" class="role-icon">@</span>
                                <span v-if="!temp['pl-' + command]">Choose a role...</span>
                                <div v-if="temp['pl-' + command]">
                                    <span class="role-icon">@</span>
                                    <span :style="getRole(temp['pl-' + command]).cssColor">{{ getRole(temp['pl-' + command]).name }}</span>
                                </div>
                            </button>
                        </div>
                        <div v-show="openDropdown === command + '-perms-rolel'" class="dd-content">
                            <div v-for="role in gRoles">
                                <label :for="command + '-PL-' + role.id">
                                    <input type="radio" :id="command + '-PL-' + role.id" :value="role.id" v-model="temp['pl-' + command]" class="hidden">
                                    <span :style="role.cssColor" class="role-icon">@</span>
                                    <span :style="role.cssColor">{{ role.name }}</span>
                                </label>
                                <br>
                            </div>
                            <div v-if="gRoles.length === 0">
                                <span class="gray">No eligible roles.</span>
                            </div>
                        </div>
                    </div>
                    <button class="button add" @click="add('pl-' + command)" :disabled="!temp['pl-' + command]">
                        <img class="add" src="https://cdn.discordapp.com/emojis/418199165948919829.png?v=1"> <span>Add</span>
                    </button>
                </span>
                <span class="gray" v-else-if="gSettings.gperms[group].type">Inherit from group</span>
                <span class="gray" v-else>Default: {{ defaultPerms[command] ? discordPermissionNames[defaultPerms[command]] : 'open to everyone' }}</span>
            </div></td>
        </tr>
    </tbody></table>
</div></section>
<footer class="footer has-text-centered hidden"><span class="gray">PayPal logo © PayPal, Inc. Image of Bender belongs to Matt Groening. Basically, I didn't make any images on this site :^)</span></footer>
<div id="notif" class=""><span id="notif-text"></span></div>
</div>
<script src="./dashboard.js"></script>
</body>
</html>
